import{c as e,ap as t,j as s,r as i,B as r,a0 as l,E as a,aG as n,N as o,aH as c,C as m,e as d,D as p,H as y,ao as h}from"./main-hAkEm7aJ.js";import{M as f,R as u}from"./myTable-Dgx4TW4e.js";import{C as x}from"./contentLayout-CSpMQeiH.js";import{R as j}from"./ReloadOutlined-DScI1KAe.js";import"./transformData-KlDvinqj.js";import"./MoneyCollectOutlined-BHs8r6Ay.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-CGYsd2_8.js";import"./AlipayOutlined-CdwXT2av.js";import"./AlipayOutlined-tZM3mGx9.js";function k(){const i=e.c(20),{key:n,refresh:o}=t();let c,m,d,p,y,h,u,k;i[0]===Symbol.for("react.memo_cache_sentinel")?(c={title:"用户名",key:"username",width:160,fixed:"left"},m={title:"昵称",key:"nickname",width:160},d={type:"sex",title:"性别",key:"sex",width:60},p={title:"邮箱",key:"email",width:200,render:b},y={title:"手机号",key:"phone",width:160,render:w},h={title:"申请称号",key:"appellation",width:200,render:_},u={type:"time",title:"注册时间",key:"createdTime",width:200},i[0]=c,i[1]=m,i[2]=d,i[3]=p,i[4]=y,i[5]=h,i[6]=u):(c=i[0],m=i[1],d=i[2],p=i[3],y=i[4],h=i[5],u=i[6]),i[7]!==o?(k=[c,m,d,p,y,h,u,{title:"操作",fixed:"right",width:120,render:(e,t)=>s.jsx(S,{record:t,refresh:o})}],i[7]=o,i[8]=k):k=i[8];const C=k;let g,A,I,O,z,N;return i[9]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(j,{}),i[9]=g):g=i[9],i[10]!==o?(A=s.jsx(r,{type:"primary",icon:g,onClick:()=>{o()},children:"刷新列表"}),i[10]=o,i[11]=A):A=i[11],i[12]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(l,{className:"my-3"}),i[12]=I):I=i[12],i[13]===Symbol.for("react.memo_cache_sentinel")?(O={searchParams:{status:0}},i[13]=O):O=i[13],i[14]!==C||i[15]!==n?(z=s.jsx(f,{columns:C,getListUrl:a.getAwaitingApprovalUserAppellationList,dataKey:"data.list",rowKey:"userId",tableKey:n,params:O}),i[14]=C,i[15]=n,i[16]=z):z=i[16],i[17]!==z||i[18]!==A?(N=s.jsxs(x,{children:[A,I,z]}),i[17]=z,i[18]=A,i[19]=N):N=i[19],N}function _(e){return s.jsx(o,{className:"flex items-center gap-1 w-fit",icon:s.jsx(c,{}),children:e||"-"})}function w(e){return s.jsx(r,{type:"text",size:"small",onClick:()=>{n(e,!0)},children:e||"-"})}function b(e){return s.jsx(r,{type:"text",size:"small",onClick:()=>{n(e,!0)},children:e||"-"})}const S=i.memo(t=>{const l=e.c(28),{record:n,refresh:o}=t;let c;l[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],l[0]=c):c=l[0];const[f,x]=i.useState(c);let j;l[1]!==n||l[2]!==o?(j=function(){m(0,x);const e=d.getState().user.token;setTimeout(()=>{p({url:a.approveUserAppellation,token:e,data:{userId:n.userId}}).then(e=>{200===e.code&&o()}).finally(()=>{y(0,x)})},500)},l[1]=n,l[2]=o,l[3]=j):j=l[3];const k=j;let _;l[4]!==n||l[5]!==o?(_=function(){m(1,x);const e=d.getState().user.token;setTimeout(()=>{p({url:a.rejectUserAppellation,token:e,data:{userId:n.userId}}).then(e=>{200===e.code&&o()}).finally(()=>{y(1,x)})},500)},l[4]=n,l[5]=o,l[6]=_):_=l[6];const w=_;let b,S,C,g,A,I,O,z,N;return l[7]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},l[7]=b):b=l[7],l[8]!==f[0]?(S=f[0]?s.jsx(u,{}):"通过",l[8]=f[0],l[9]=S):S=l[9],l[10]!==f[0]||l[11]!==S?(C=s.jsx(r,{type:"link",size:"small",disabled:f[0],style:b,children:S}),l[10]=f[0],l[11]=S,l[12]=C):C=l[12],l[13]!==k||l[14]!==C?(g=s.jsx(h,{title:"是否确认审核通过？",onConfirm:k,children:C}),l[13]=k,l[14]=C,l[15]=g):g=l[15],l[16]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},l[16]=A):A=l[16],l[17]!==f[1]?(I=f[1]?s.jsx(u,{}):"驳回",l[17]=f[1],l[18]=I):I=l[18],l[19]!==f[1]||l[20]!==I?(O=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:f[1],style:A,children:I}),l[19]=f[1],l[20]=I,l[21]=O):O=l[21],l[22]!==w||l[23]!==O?(z=s.jsx(h,{title:"是否确认驳回申请？",onConfirm:w,children:O}),l[22]=w,l[23]=O,l[24]=z):z=l[24],l[25]!==z||l[26]!==g?(N=s.jsxs("div",{className:"flex flex-wrap",children:[g,z]}),l[25]=z,l[26]=g,l[27]=N):N=l[27],N});export{k as default};
