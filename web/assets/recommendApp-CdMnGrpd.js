import{c as e,an as t,j as s,r as n,B as r,a9 as i,O as l,a0 as o,E as a,az as c,N as d,ao as m,e as p,C as h,D as j,H as y,am as u}from"./main-DoQmQ3rA.js";import{M as x,R as f}from"./myTable-DsQD4sJ4.js";import{C as k}from"./contentLayout-DmA4VjSS.js";import{R as w}from"./ReloadOutlined-CNV99e12.js";import"./transformData-agfQo1kN.js";import"./MoneyCollectOutlined-HxXn-Zo3.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-XWb8_7CI.js";import"./AlipayOutlined-DpprqmEa.js";import"./AlipayOutlined-tZM3mGx9.js";function g(){const n=e.c(21),{key:c,refresh:d}=t();let m,p,h,j,y,u,f,g;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={title:"应用标题",key:"title",width:160,fixed:"left"},p={title:"应用描述",key:"description",width:460},h={title:"图标",key:"icon",width:100,render:S},j={title:"链接",key:"link",width:120,render:C},y={title:"标签",width:120,render:b},u={title:"提交人",key:"username",width:160,render:_},f={type:"time",title:"提交时间",key:"createdTime",width:200},n[0]=m,n[1]=p,n[2]=h,n[3]=j,n[4]=y,n[5]=u,n[6]=f):(m=n[0],p=n[1],h=n[2],j=n[3],y=n[4],u=n[5],f=n[6]),n[7]!==d?(g=[m,p,h,j,y,u,f,{title:"操作",fixed:"right",width:180,render:(e,t)=>s.jsx(A,{record:t,refresh:d})}],n[7]=d,n[8]=g):g=n[8];const N=g;let R,O,z,T,v,L,M;return n[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(w,{}),n[9]=R):R=n[9],n[10]!==d?(O=s.jsx(r,{type:"primary",icon:R,onClick:()=>{d()},children:"刷新列表"}),n[10]=d,n[11]=O):O=n[11],n[12]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(i,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(l,{className:"mr-1"}),"应用推荐将展示在 “ 每日宝藏 ” 中，服务端设置了 5 分钟缓存，如需查看最新的 “ 每日宝藏 ” 列表，请等待缓存失效或重启服务"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),T=s.jsx(o,{className:"my-3"}),n[12]=z,n[13]=T):(z=n[12],T=n[13]),n[14]===Symbol.for("react.memo_cache_sentinel")?(v={searchParams:{status:0}},n[14]=v):v=n[14],n[15]!==N||n[16]!==c?(L=s.jsx(x,{columns:N,getListUrl:a.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:c,params:v}),n[15]=N,n[16]=c,n[17]=L):L=n[17],n[18]!==L||n[19]!==O?(M=s.jsxs(k,{children:[O,z,T,L]}),n[18]=L,n[19]=O,n[20]=M):M=n[20],M}function _(e){return s.jsx(d,{color:e?"geekblue":"red",bordered:!1,icon:s.jsx(m,{}),children:e||"已注销"})}function b(e,t){return s.jsx(d,{color:t.tagColor,children:t.tagText||"-"})}function C(e){return s.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function S(e,t){return e?s.jsx(c,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}const A=n.memo(t=>{const i=e.c(42),{record:l,refresh:o}=t;let c;i[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],i[0]=c):c=i[0];const[d,m]=n.useState(c);let x;i[1]!==l||i[2]!==o?(x=function(){const e=p.getState().user.token;h(0,m),setTimeout(()=>{j({url:a.approveRecommendApp,token:e,data:{id:l.id}}).then(e=>{200===e.code&&o()}).finally(()=>{y(0,m)})},500)},i[1]=l,i[2]=o,i[3]=x):x=i[3];const k=x;let w;i[4]!==l||i[5]!==o?(w=function(e,t){h(t,m);const s=p.getState().user.token;setTimeout(()=>{j({url:"reject"===e?a.rejectRecommendApp:a.deleteRecommendApp,token:s,data:{id:l.id}}).then(e=>{200===e.code&&o()}).finally(()=>{y(t,m)})},500)},i[4]=l,i[5]=o,i[6]=w):w=i[6];const g=w;let _,b,C,S,A;i[7]===Symbol.for("react.memo_cache_sentinel")?(_={width:"44px"},i[7]=_):_=i[7],i[8]!==d[0]?(b=d[0]?s.jsx(f,{}):"通过",i[8]=d[0],i[9]=b):b=i[9],i[10]!==d[0]||i[11]!==b?(C=s.jsx(r,{type:"link",size:"small",disabled:d[0],style:_,children:b}),i[10]=d[0],i[11]=b,i[12]=C):C=i[12],i[13]!==k||i[14]!==C?(S=s.jsx(u,{title:"是否确认审核通过？",onConfirm:k,children:C}),i[13]=k,i[14]=C,i[15]=S):S=i[15],i[16]!==g?(A=()=>{g("reject",1)},i[16]=g,i[17]=A):A=i[17];const N=d[1]||d[2];let R,O,z,T,v;i[18]===Symbol.for("react.memo_cache_sentinel")?(R={width:"44px"},i[18]=R):R=i[18],i[19]!==d[1]?(O=d[1]?s.jsx(f,{}):"驳回",i[19]=d[1],i[20]=O):O=i[20],i[21]!==O||i[22]!==N?(z=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:N,style:R,children:O}),i[21]=O,i[22]=N,i[23]=z):z=i[23],i[24]!==z||i[25]!==A?(T=s.jsx(u,{title:"是否确认驳回申请",onConfirm:A,children:z}),i[24]=z,i[25]=A,i[26]=T):T=i[26],i[27]!==g?(v=()=>{g("delete",2)},i[27]=g,i[28]=v):v=i[28];const L=d[1]||d[2];let M,B,D,K,E;return i[29]===Symbol.for("react.memo_cache_sentinel")?(M={width:"44px"},i[29]=M):M=i[29],i[30]!==d[2]?(B=d[2]?s.jsx(f,{}):"删除",i[30]=d[2],i[31]=B):B=i[31],i[32]!==L||i[33]!==B?(D=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:L,style:M,children:B}),i[32]=L,i[33]=B,i[34]=D):D=i[34],i[35]!==v||i[36]!==D?(K=s.jsx(u,{title:"是否确认删除该申请？",onConfirm:v,children:D}),i[35]=v,i[36]=D,i[37]=K):K=i[37],i[38]!==T||i[39]!==K||i[40]!==S?(E=s.jsxs("div",{className:"flex flex-wrap",children:[S,T,K]}),i[38]=T,i[39]=K,i[40]=S,i[41]=E):E=i[41],E});export{g as default};
