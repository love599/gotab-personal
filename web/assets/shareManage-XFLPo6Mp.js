const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/shareSay-B5FXhh7P.js","assets/main-Ce2ar2rV.js","assets/main-GNDb8orc.css"])))=>i.map(i=>d[i]);
import{c as e,an as t,k as s,F as r,r as a,j as l,w as n,B as o,ap as i,au as c,af as d,av as m,aw as u,a0 as h,E as y,N as f,ao as p,q as x,ah as j,C as _,e as k,D as w,H as b,am as g}from"./main-Ce2ar2rV.js";import{r as S}from"./transformData-Sl96oRIx.js";import{M as I,R as C}from"./myTable-BmkOgTN6.js";import{C as T}from"./contentLayout-93t2_VNv.js";import"./MoneyCollectOutlined-CWjSBEES.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-CxpphJ3o.js";import"./AlipayOutlined-CF0K-n_Z.js";import"./AlipayOutlined-tZM3mGx9.js";const v=d.lazy(()=>j(()=>import("./shareSay-B5FXhh7P.js"),__vite__mapDeps([0,1,2])));function N(){const d=e.c(48),{key:f,refresh:p}=t(),x=s(P),[j]=r.useForm();let _;d[0]===Symbol.for("react.memo_cache_sentinel")?(_={},d[0]=_):_=d[0];const[k,w]=a.useState(_);let b,g,C,N,z,L,D,E,K,R,B;d[1]===Symbol.for("react.memo_cache_sentinel")?(b={title:"用户名",key:"username",width:160,fixed:"left",render:O},g={title:"状态",key:"status",width:80,render:F},C={title:"分享码",key:"path",width:160,render:A},N={title:"分享页标题",key:"title",width:230},z={title:"分享页描述",key:"description",width:300},L={title:"页面关键词",key:"keywords",width:300},d[1]=b,d[2]=g,d[3]=C,d[4]=N,d[5]=z,d[6]=L):(b=d[1],g=d[2],C=d[3],N=d[4],z=d[5],L=d[6]),d[7]!==x?(D={title:"分享有话",key:"shareSay",width:160,render:e=>e?l.jsx(o,{size:"small",type:"link",onClick:()=>{i.show(c,{title:"分享有话",backgroundOpacity:x?.92:void 0,children:l.jsx(a.Suspense,{children:l.jsx(v,{content:e||"暂未设置分享有话的内容"})}),placement:"right"})},children:"查看"}):"-"},d[7]=x,d[8]=D):D=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(E={type:"time",title:"创建时间",key:"createdTime",width:200},K={type:"time",title:"更新时间",key:"updatedTime",width:200},d[9]=E,d[10]=K):(E=d[9],K=d[10]),d[11]!==p?(R={title:"操作",fixed:"right",width:120,render:(e,t)=>l.jsx(M,{record:t,refresh:p})},d[11]=p,d[12]=R):R=d[12],d[13]!==R||d[14]!==D?(B=[b,g,C,N,z,L,D,E,K,R],d[13]=R,d[14]=D,d[15]=B):B=d[15];const V=B;let q,H,U,X,Z,G,J,Q,W,Y,$,ee,te,se,re,ae;return d[16]!==j?(q=()=>{const e=j.getFieldsValue();e[Math.random()]=!0,w(S(e))},d[16]=j,d[17]=q):q=d[17],d[18]===Symbol.for("react.memo_cache_sentinel")?(H={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridAutoRows:"32px"},d[18]=H):H=d[18],d[19]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsx(r.Item,{name:"username",children:l.jsx(n,{placeholder:"用户名"})}),d[19]=U):U=d[19],d[20]===Symbol.for("react.memo_cache_sentinel")?(X=l.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:H,children:[U,l.jsx(r.Item,{name:"path",children:l.jsx(n,{placeholder:"分享码"})})]}),d[20]=X):X=d[20],d[21]!==j?(Z=()=>{j.submit()},d[21]=j,d[22]=Z):Z=d[22],d[23]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(m,{}),d[23]=G):G=d[23],d[24]!==Z?(J=l.jsx(o,{type:"primary",onClick:Z,icon:G,children:"查询"}),d[24]=Z,d[25]=J):J=d[25],d[26]!==j?(Q=()=>{j.resetFields();const e={};e[Math.random()]=!0,w(e)},d[26]=j,d[27]=Q):Q=d[27],d[28]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsx(u,{}),d[28]=W):W=d[28],d[29]!==Q?(Y=l.jsx(o,{onClick:Q,icon:W,children:"重置"}),d[29]=Q,d[30]=Y):Y=d[30],d[31]!==J||d[32]!==Y?($=l.jsxs("div",{className:"flex flex-wrap gap-3",children:[J,Y]}),d[31]=J,d[32]=Y,d[33]=$):$=d[33],d[34]!==j||d[35]!==q||d[36]!==$?(ee=l.jsxs(r,{className:"w-full",form:j,onFinish:q,children:[X,$]}),d[34]=j,d[35]=q,d[36]=$,d[37]=ee):ee=d[37],d[38]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx(h,{className:"my-3"}),d[38]=te):te=d[38],d[39]!==k?(se={searchParams:k},d[39]=k,d[40]=se):se=d[40],d[41]!==V||d[42]!==f||d[43]!==se?(re=l.jsx(I,{columns:V,getListUrl:y.getAwaitingApprovalSharePageList,dataKey:"data.list",rowKey:"userId",tableKey:f,params:se}),d[41]=V,d[42]=f,d[43]=se,d[44]=re):re=d[44],d[45]!==ee||d[46]!==re?(ae=l.jsxs(T,{children:[ee,te,re]}),d[45]=ee,d[46]=re,d[47]=ae):ae=d[47],ae}function A(e){return l.jsx(f,{bordered:!1,color:"gold",className:"cursor-pointer",onClick:()=>{const t=x("/s/")+e;window.open(t,"_blank")},children:e})}function F(e){return l.jsx(f,{color:0===e?"blue":1===e?"green":2===e?"default":"red",children:0===e?"待审核":1===e?"正常":2===e?"停用":"被禁用"})}function O(e){return l.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:l.jsx(p,{}),children:e||"已注销"})}function P(e){return e.card.bgBackdropFilter}const M=a.memo(t=>{const s=e.c(33),{record:r,refresh:n}=t;let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],s[0]=i):i=s[0];const[c,d]=a.useState(i);let m;s[1]!==r.userId||s[2]!==n?(m=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{w({url:y.approveSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e.code&&n()}).finally(()=>{b(0,d)})},500)},s[1]=r.userId,s[2]=n,s[3]=m):m=s[3];const u=m;let h;s[4]!==r.userId||s[5]!==n?(h=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{w({url:y.rejectSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e.code&&n()}).finally(()=>{b(0,d)})},500)},s[4]=r.userId,s[5]=n,s[6]=h):h=s[6];const f=h;let p;s[7]!==r.userId||s[8]!==n?(p=function(){_(1,d);const e=k.getState().user.token;setTimeout(()=>{w({url:y.deleteSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e.code&&n()}).finally(()=>{b(1,d)})},500)},s[7]=r.userId,s[8]=n,s[9]=p):p=s[9];const x=p,j=3===r.status?"是否确认恢复？":"是否确认禁用？",S=3===r.status?u:f;let I,T,v,N,A,F,O,P,M;return s[10]===Symbol.for("react.memo_cache_sentinel")?(I={width:"44px"},s[10]=I):I=s[10],s[11]!==c[0]||s[12]!==r.status?(T=c[0]?l.jsx(C,{}):3===r.status?"恢复":"禁用",s[11]=c[0],s[12]=r.status,s[13]=T):T=s[13],s[14]!==c[0]||s[15]!==T?(v=l.jsx(o,{type:"link",size:"small",disabled:c[0],style:I,children:T}),s[14]=c[0],s[15]=T,s[16]=v):v=s[16],s[17]!==j||s[18]!==S||s[19]!==v?(N=l.jsx(g,{title:j,onConfirm:S,children:v}),s[17]=j,s[18]=S,s[19]=v,s[20]=N):N=s[20],s[21]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},s[21]=A):A=s[21],s[22]!==c[1]?(F=c[1]?l.jsx(C,{}):"删除",s[22]=c[1],s[23]=F):F=s[23],s[24]!==c[1]||s[25]!==F?(O=l.jsx(o,{danger:!0,type:"link",size:"small",disabled:c[1],style:A,children:F}),s[24]=c[1],s[25]=F,s[26]=O):O=s[26],s[27]!==x||s[28]!==O?(P=l.jsx(g,{title:"是否确认删除？",onConfirm:x,children:O}),s[27]=x,s[28]=O,s[29]=P):P=s[29],s[30]!==P||s[31]!==N?(M=l.jsxs("div",{className:"flex flex-wrap",children:[N,P]}),s[30]=P,s[31]=N,s[32]=M):M=s[32],M});export{N as default};
