const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/shareSay-EKseFhw8.js","assets/requestIdleCallbackPolyfill-BYpT1Coe.js","assets/requestIdleCallbackPolyfill-CSbv76YB.css","assets/markdownContent-BMni5Vfy.js"])))=>i.map(i=>d[i]);
import{c as e,h as t,j as s,B as r,S as i,r as o,_ as l,F as a,o as n,$ as m,l as c,a as d,n as p,v as j,a2 as h}from"./requestIdleCallbackPolyfill-BYpT1Coe.js";import{u}from"./useFresh-Ahe7plhD.js";import{M as y}from"./myDrawer2-D4uC5I2R.js";import{M as f,R as x}from"./myTable-CQHj0Ylb.js";import{C as _}from"./contentLayout-B7X-w_o3.js";import{R as k}from"./ReloadOutlined-D-rOj-CP.js";import"./index-BLvxgcwu.js";import"./useForm-DgEYjWKD.js";import"./index-CFOoEUKL.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-DcRV2RJC.js";import"./Overflow-DUlq3Qi6.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-BYxm1vov.js";import"./getAllowClear-gKbHpJK0.js";import"./Input-y9R_-Btz.js";import"./handleButton-DJV64n_w.js";import"./transformData-B9vOYX91.js";import"./assets-B8Bi78Vh.js";import"./index-1szBaMxA.js";import"./MoneyCollectOutlined-D67pL1t6.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-9QcedBqY.js";import"./CaretDownOutlined-DcidQ0ah.js";import"./FolderOpenOutlined-BNhgQTIu.js";import"./FolderOutlined-k9jtXdfw.js";import"./styleChecker-Zrx6m0D-.js";import"./AlipayOutlined-DG9dK6Af.js";import"./AlipayOutlined-tZM3mGx9.js";import"./useEffectOnce-CNE3l1oO.js";import"./useBreakpoint-DuinsqjP.js";import"./index-DLuLgX-i.js";import"./ReloadOutlined-B00s2TmV.js";const S=l.lazy(()=>m(()=>import("./shareSay-EKseFhw8.js"),__vite__mapDeps([0,1,2,3])));function w(){const l=e.c(23),{key:m,refresh:c}=u(),d=t(b);let p,j,h,x,w,O,C,v;l[0]===Symbol.for("react.memo_cache_sentinel")?(p={title:"用户名",key:"username",width:160,fixed:"left"},j={type:"tag",title:"分享码",key:"path",width:160},h={title:"分享页标题",key:"title",width:230},x={title:"分享页描述",key:"description",width:300},l[0]=p,l[1]=j,l[2]=h,l[3]=x):(p=l[0],j=l[1],h=l[2],x=l[3]),l[4]!==d?(w={title:"分享有话",key:"shareSay",width:160,render:e=>e?s.jsx(r,{size:"small",type:"link",onClick:()=>{i.show(y,{title:"分享有话",backgroundOpacity:d?.92:void 0,children:s.jsx(o.Suspense,{children:s.jsx(S,{content:e||"暂未设置分享有话的内容"})}),placement:"right"})},children:"查看"}):"-"},l[4]=d,l[5]=w):w=l[5],l[6]===Symbol.for("react.memo_cache_sentinel")?(O={type:"time",title:"创建时间",key:"createdTime",width:200},l[6]=O):O=l[6],l[7]!==c?(C={title:"操作",fixed:"right",width:120,render:(e,t)=>s.jsx(g,{record:t,refresh:c})},l[7]=c,l[8]=C):C=l[8],l[9]!==w||l[10]!==C?(v=[p,j,h,x,w,O,C],l[9]=w,l[10]=C,l[11]=v):v=l[11];const A=v;let F,I,P,L,M,R;return l[12]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(k,{}),l[12]=F):F=l[12],l[13]!==c?(I=s.jsx(r,{type:"primary",icon:F,onClick:()=>{c()},children:"刷新列表"}),l[13]=c,l[14]=I):I=l[14],l[15]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(a,{className:"my-3"}),l[15]=P):P=l[15],l[16]===Symbol.for("react.memo_cache_sentinel")?(L={searchParams:{status:0}},l[16]=L):L=l[16],l[17]!==A||l[18]!==m?(M=s.jsx(f,{columns:A,getListUrl:n.getAwaitingApprovalSharePageList,dataKey:"data.list",rowKey:"userId",tableKey:m,params:L}),l[17]=A,l[18]=m,l[19]=M):M=l[19],l[20]!==M||l[21]!==I?(R=s.jsxs(_,{children:[I,P,M]}),l[20]=M,l[21]=I,l[22]=R):R=l[22],R}function b(e){return e.card.bgBackdropFilter}const g=o.memo(t=>{const i=e.c(28),{record:l,refresh:a}=t;let m;i[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],i[0]=m):m=i[0];const[u,y]=o.useState(m);let f;i[1]!==l||i[2]!==a?(f=function(){c(0,y);const e=d.getState().user.token;setTimeout(()=>{p({url:n.approveSharePage,token:e,data:{user:l.userId}}).then(e=>{200===e.code&&a()}).finally(()=>{j(0,y)})},500)},i[1]=l,i[2]=a,i[3]=f):f=i[3];const _=f;let k;i[4]!==l||i[5]!==a?(k=function(){c(1,y);const e=d.getState().user.token;setTimeout(()=>{p({url:n.rejectSharePage,token:e,data:{user:l.userId}}).then(e=>{200===e.code&&a()}).finally(()=>{j(1,y)})},500)},i[4]=l,i[5]=a,i[6]=k):k=i[6];const S=k;let w,b,g,O,C,v,A,F,I;return i[7]===Symbol.for("react.memo_cache_sentinel")?(w={width:"44px"},i[7]=w):w=i[7],i[8]!==u[0]?(b=u[0]?s.jsx(x,{}):"通过",i[8]=u[0],i[9]=b):b=i[9],i[10]!==u[0]||i[11]!==b?(g=s.jsx(r,{type:"link",size:"small",disabled:u[0],style:w,children:b}),i[10]=u[0],i[11]=b,i[12]=g):g=i[12],i[13]!==_||i[14]!==g?(O=s.jsx(h,{title:"是否确认审核通过？",onConfirm:_,children:g}),i[13]=_,i[14]=g,i[15]=O):O=i[15],i[16]===Symbol.for("react.memo_cache_sentinel")?(C={width:"44px"},i[16]=C):C=i[16],i[17]!==u[1]?(v=u[1]?s.jsx(x,{}):"驳回",i[17]=u[1],i[18]=v):v=i[18],i[19]!==u[1]||i[20]!==v?(A=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:u[1],style:C,children:v}),i[19]=u[1],i[20]=v,i[21]=A):A=i[21],i[22]!==S||i[23]!==A?(F=s.jsx(h,{title:"是否确认驳回申请？",onConfirm:S,children:A}),i[22]=S,i[23]=A,i[24]=F):F=i[24],i[25]!==F||i[26]!==O?(I=s.jsxs("div",{className:"flex flex-wrap",children:[O,F]}),i[25]=F,i[26]=O,i[27]=I):I=i[27],I});export{w as default};
