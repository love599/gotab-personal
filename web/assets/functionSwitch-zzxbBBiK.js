import{c as e,F as a,r as l,j as s,a7 as o,w as n,a8 as r,B as t,n as c,C as m,e as i,a9 as u,H as d,D as f,aa as h,O as x,a0 as b,E as p}from"./main-BEv8KsEt.js";import{C as _}from"./contentLayout-CIrKGV-A.js";function j(){const j=e.c(29),[g]=a.useForm();let y;j[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],j[0]=y):y=j[0];const[S,w]=l.useState(y);let v;j[1]!==g?(v=function(){m(0,w);const e=i.getState().user.token;u({url:p.getFunctionSwitch,token:e}).then(e=>{e.data&&(e.data?.cardPush||(e.data.cardPush="close"),e.data?.offlineToUse||(e.data.offlineToUse="open"),g.setFieldsValue(e.data))}).finally(()=>{d(0,w)})},j[1]=g,j[2]=v):v=j[2];const F=v;let N,q,k;j[3]!==F?(N=()=>{F()},j[3]=F,j[4]=N):N=j[4],j[5]===Symbol.for("react.memo_cache_sentinel")?(q=[],j[5]=q):q=j[5],l.useEffect(N,q),j[6]===Symbol.for("react.memo_cache_sentinel")?(k=function(e){m(1,w);const a=i.getState().user.token;f({url:p.updateFunctionSwitch,token:a,data:e}).finally(()=>{d(1,w)})},j[6]=k):k=j[6];const B=k;let I,P,T,G,C,L,U,A,E,M,O,V,D,H,X,z,J;return j[7]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(h,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(x,{className:"mr-1"}),"管理员可通过该页面动态决定某配置的可用性，请注意，配置的变更是修改了 siteConfig.js 文件的内容，所以请不要在 web 服务器中缓存它，同时配置变更后页面需刷新才生效，不刷新将继续使用先前配置！"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),j[7]=I):I=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(P={cardPush:"close",offlineToUse:"open",sourceStoreFrom:"official",homePageLimit:"close"},j[8]=P):P=j[8],j[9]===Symbol.for("react.memo_cache_sentinel")?(T=[{required:!0,message:"请选择配置项的状态"}],j[9]=T):T=j[9],j[10]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(a.Item,{name:"cardPush",label:"添加卡片时推送至资源库",required:!0,rules:T,children:s.jsx(o.Group,{options:[{label:"开启且默认推送",value:"open"},{label:"开启但不默认推送",value:"openNotPush"},{label:"关闭",value:"close"}]})}),j[10]=G):G=j[10],j[11]===Symbol.for("react.memo_cache_sentinel")?(C=[{required:!0,message:"请选择主页默认数据策略"}],j[11]=C):C=j[11],j[12]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(a.Item,{name:"offlineToUse",label:"主页默认数据策略",required:!0,rules:C,children:s.jsx(o.Group,{options:[{label:"初始化一次后，被持久缓存（离线使用）",value:"open"},{label:"跟随管理员账户配置，持续获取最新默认数据",value:"close"}]})}),j[12]=L):L=j[12],j[13]===Symbol.for("react.memo_cache_sentinel")?(U=[{required:!0,message:"请选择资源库的数据来源"}],j[13]=U):U=j[13],j[14]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(a.Item,{name:"sourceStoreFrom",label:"资源库数据来源",required:!0,rules:U,children:s.jsx(o.Group,{options:[{label:"GOTAB 官方资源库",value:"official"},{label:"本站自有资源库",value:"self"}]})}),j[14]=A):A=j[14],j[15]===Symbol.for("react.memo_cache_sentinel")?(E=[{required:!0,message:"请选择主页访问限制策略"}],j[15]=E):E=j[15],j[16]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(a.Item,{name:"homePageLimit",label:"主页访问限制策略",required:!0,rules:E,children:s.jsx(o.Group,{options:[{label:"需登录后访问（将不支持离线使用）",value:"useLogin"},{label:"关闭",value:"close"}]})}),O=s.jsx(b,{}),j[16]=M,j[17]=O):(M=j[16],O=j[17]),j[18]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(a.Item,{name:"loginBackground",label:"登录页背景设置",children:s.jsx(n,{allowClear:!0,placeholder:"登录页背景，支持视频、图片链接，或者颜色值、渐变颜色，可以在主题壁纸中上传资源后，复制路径到此"})}),j[18]=V):V=j[18],j[19]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(a.Item,{name:"loginBackgroundBrightness",label:"登录页背景亮度",children:s.jsx(r,{min:0,max:100,placeholder:"亮度",stringMode:!0,className:"max-w-[100px]",addonAfter:"%"})}),j[19]=D):D=j[19],j[20]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(a.Item,{name:"loginBackgroundBlur",label:"登录页背景模糊度",children:s.jsx(r,{min:0,max:100,placeholder:"模糊",stringMode:!0,className:"max-w-[100px]",addonAfter:"px"})}),j[20]=H):H=j[20],j[21]!==S[1]?(X=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(t,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:S[1],children:"保存配置"})}),j[21]=S[1],j[22]=X):X=j[22],j[23]!==g||j[24]!==X?(z=s.jsxs(a,{onFinish:B,form:g,className:"px-3 w-full",initialValues:P,children:[G,L,A,M,O,V,D,H,X]}),j[23]=g,j[24]=X,j[25]=z):z=j[25],j[26]!==S[0]||j[27]!==z?(J=s.jsxs(_,{children:[I,s.jsx("div",{className:"w-full",children:s.jsx(c,{spinning:S[0],children:z})})]}),j[26]=S[0],j[27]=z,j[28]=J):J=j[28],J}export{j as default};
