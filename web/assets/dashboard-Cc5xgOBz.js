import{bT as e,c as t,r as o,ab as l,j as c,bU as n,bV as r,bW as a,e as s,bX as i,E as m,B as d,bY as x,bZ as h,t as u,aJ as g,b_ as f,b$ as b,N as p}from"./main-DBVifIMz.js";import{H as y,a as _}from"./index-DbCQc_X3.js";function j(t){return e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"},child:[]}]})(t)}function S(t){return e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}const k=e=>{const o=t.c(21),{label:l,value:n,icon:r,color:a,loading:s}=e,{token:i}=u.useToken();let m,d;o[0]!==i.colorBgContainer||o[1]!==i.colorBorderSecondary?(m={background:i.colorBgContainer,borderColor:i.colorBorderSecondary},o[0]=i.colorBgContainer,o[1]=i.colorBorderSecondary,o[2]=m):m=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(d={rows:2},o[3]=d):d=o[3];const x=`p-3 rounded-full ${a} text-white`;let g,f;o[4]!==r||o[5]!==x?(g=c.jsx("div",{className:x,children:r}),o[4]=r,o[5]=x,o[6]=g):g=o[6],o[7]!==l?(f=c.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:l}),o[7]=l,o[8]=f):f=o[8];const b="number"==typeof n?n:n??0;let p,y,_,j;return o[9]!==b?(p=c.jsx("p",{className:"text-xl font-bold h-7",children:b}),o[9]=b,o[10]=p):p=o[10],o[11]!==f||o[12]!==p?(y=c.jsxs("div",{className:"ml-4 flex flex-col gap-1",children:[f,p]}),o[11]=f,o[12]=p,o[13]=y):y=o[13],o[14]!==s||o[15]!==g||o[16]!==y?(_=c.jsxs(h,{title:!1,className:"h-[52px]",paragraph:d,loading:s,children:[g,y]}),o[14]=s,o[15]=g,o[16]=y,o[17]=_):_=o[17],o[18]!==m||o[19]!==_?(j=c.jsx("div",{className:"rounded-lg border p-6 flex items-center",style:m,children:_}),o[18]=m,o[19]=_,o[20]=j):j=o[20],j},v=e=>{const l=t.c(34),{item:n}=e,{token:r}=u.useToken(),a=o.useRef(null),s=f(a),i=s?r.colorBgTextHover:r.colorBgContainer;let m,d;l[0]!==i||l[1]!==r.colorBorderSecondary?(m={height:"100px",background:i,borderColor:r.colorBorderSecondary},l[0]=i,l[1]=r.colorBorderSecondary,l[2]=m):m=l[2],l[3]!==n.link?(d=()=>{window.open(n.link,"_blank")},l[3]=n.link,l[4]=d):d=l[4];const x="w-16 h-16 ml-3 transition-main rounded-2xl overflow-visible flex-center "+(s?"scale-110":"");let h,g,y,_,j,S,k,v,w,N,B;return l[5]!==n.iconBackground?(h={background:n.iconBackground},l[5]=n.iconBackground,l[6]=h):h=l[6],l[7]!==n.icon?(g=b(n.icon),l[7]=n.icon,l[8]=g):g=l[8],l[9]===Symbol.for("react.memo_cache_sentinel")?(y={width:"100%"},l[9]=y):y=l[9],l[10]!==g?(_=c.jsx("img",{src:g,style:y,onError:z}),l[10]=g,l[11]=_):_=l[11],l[12]!==x||l[13]!==h||l[14]!==_?(j=c.jsx("div",{className:x,style:h,children:_}),l[12]=x,l[13]=h,l[14]=_,l[15]=j):j=l[15],l[16]!==n.tagColor||l[17]!==n.tagText?(S=n?.tagText&&c.jsx(p,{color:n?.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.8},children:n?.tagText}),l[16]=n.tagColor,l[17]=n.tagText,l[18]=S):S=l[18],l[19]!==n.title?(k=c.jsx("p",{className:"text-base font-semibold line-clamp-1",children:n.title}),l[19]=n.title,l[20]=k):k=l[20],l[21]!==k||l[22]!==S?(v=c.jsxs("div",{className:"text-sm mb-[4px] flex items-center",children:[S,k]}),l[21]=k,l[22]=S,l[23]=v):v=l[23],l[24]!==n.description?(w=c.jsx("p",{className:"text-gray-500 line-clamp-2 font-medium",children:n.description}),l[24]=n.description,l[25]=w):w=l[25],l[26]!==v||l[27]!==w?(N=c.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[v,w]}),l[26]=v,l[27]=w,l[28]=N):N=l[28],l[29]!==m||l[30]!==N||l[31]!==d||l[32]!==j?(B=c.jsxs("div",{ref:a,style:m,className:"cursor-pointer rounded-lg p-3 border transition-main flex items-center gap-x-6",onClick:d,children:[j,N]}),l[29]=m,l[30]=N,l[31]=d,l[32]=j,l[33]=B):B=l[33],B};function w(){const e=t.c(36),[u,g]=o.useState(null),[f,b]=o.useState(!0),[p,v]=o.useState(null),[w,z]=o.useState(!0);let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=[{icon:"https://www.rainyun.com/img/logo.d193755d.png",link:a,title:"高性价比云服务器",description:"雨云成立于2018年，是具有自主知识产权的国产云计算服务提供商。雨云为广大用户提供简单易用、便宜实惠、可信赖的云产品。"}],e[0]=T):T=e[0];const A=T;let H;e[1]===Symbol.for("react.memo_cache_sentinel")?(H=function(){const e=s.getState().user.token;l({url:m.getDashboardStats,token:e}).then(e=>{g(e.data),b(!1)}).catch(e=>{b(!1)})},e[1]=H):H=e[1];const M=H;let E;e[2]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[2]=E):E=e[2],o.useLayoutEffect(()=>{l({url:I+"api/recommendApp",catchMsg:!1}).then(e=>{e?.data&&v(e.data)}).finally(()=>{z(!1)}),M()},E);const L=u?.total_users;let W,$;e[3]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx(y,{size:24}),e[3]=W):W=e[3],e[4]!==L?($={label:"总用户数",value:L,icon:W,color:"bg-blue-500"},e[4]=L,e[5]=$):$=e[5];const D=u?.new_users_today;let J,R;e[6]===Symbol.for("react.memo_cache_sentinel")?(J=c.jsx(_,{size:24}),e[6]=J):J=e[6],e[7]!==D?(R={label:"今日新增用户",value:D,icon:J,color:"bg-green-500"},e[7]=D,e[8]=R):R=e[8];const U=u?.total_websites;let V,X;e[9]===Symbol.for("react.memo_cache_sentinel")?(V=c.jsx(j,{size:24}),e[9]=V):V=e[9],e[10]!==U?(X={label:"网站总数",value:U,icon:V,color:"bg-purple-500"},e[10]=U,e[11]=X):X=e[11];const Y=u?.total_user_shares;let Z,q,F;e[12]===Symbol.for("react.memo_cache_sentinel")?(Z=c.jsx(S,{size:24}),e[12]=Z):Z=e[12],e[13]!==Y?(q={label:"用户分享页",value:Y,icon:Z,color:"bg-yellow-500"},e[13]=Y,e[14]=q):q=e[14],e[15]!==X||e[16]!==q||e[17]!==$||e[18]!==R?(F=[$,R,X,q],e[15]=X,e[16]=q,e[17]=$,e[18]=R,e[19]=F):F=e[19];const G=F,I="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";let K;e[20]===Symbol.for("react.memo_cache_sentinel")?(K=function(){const e=s.getState().user.token;i({url:m.exportConfigToml,token:e,responseType:"blob"}).then(C)},e[20]=K):K=e[20];const O=K;let P,Q,ee,te,oe;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=c.jsx("h1",{className:"text-lg font-bold",children:"数据概览"}),e[21]=P):P=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsxs("div",{className:"flex mb-3 ml-1 justify-between items-center",children:[P,c.jsx(d,{icon:c.jsx(x,{}),onClick:O,children:"导出配置文件"})]}),e[22]=Q):Q=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(ee=[12,12],e[23]=ee):ee=e[23],e[24]!==f||e[25]!==G?(te=c.jsx(n,{gutter:ee,children:G.map((e,t)=>c.jsx(r,{xs:{flex:"100%"},md:{flex:"50%"},lg:{flex:"50%"},xl:{flex:"25%"},children:c.jsx(k,{...e,loading:f})},t))}),e[24]=f,e[25]=G,e[26]=te):te=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(oe=c.jsx("h1",{className:"text-lg font-bold my-3 ml-1",children:"🔥 每日宝藏"}),e[27]=oe):oe=e[27];const le=w||f;let ce,ne,re;return e[28]!==p?(ce=p?.length>0?p?.map(B):A.map(N),e[28]=p,e[29]=ce):ce=e[29],e[30]!==le||e[31]!==ce?(ne=c.jsx("div",{className:"flex flex-col w-full gap-3",children:c.jsx(h,{loading:le,className:"p-3",children:ce})}),e[30]=le,e[31]=ce,e[32]=ne):ne=e[32],e[33]!==te||e[34]!==ne?(re=c.jsxs("main",{className:"p-3 overflow-scroll",children:[Q,te,oe,ne]}),e[33]=te,e[34]=ne,e[35]=re):re=e[35],re}function N(e,t){return c.jsx(v,{item:e},t)}function B(e,t){return c.jsx(v,{item:e},t)}function C(e){g.saveAs(e.data,"config.toml")}function z(e){e.currentTarget.src="/icons/default_image.svg"}export{w as default};
