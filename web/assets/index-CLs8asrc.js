import{r as e,aa as t,du as n,dv as r,ab as a,ac as l,ad as o,dw as i,aD as s,at as c,aq as u,aW as d,am as m,dx as p,cj as f,ai as g,aj as b,dy as h,dz as $,dA as y,dB as x,dC as v,dD as C,dE as w,aP as O,ck as E,a9 as S,dF as j,bY as k,ag as I,dG as M,dH as F,c7 as P,cn as N,c8 as q,ak as z,v as R,aC as H,ch as D,dI as T,dJ as W,dK as A,c9 as B,aB as L,dL as _,as as V,dM as X,ao as G,dN as K,dO as Y,dP as Q,dQ as U,aV as J,dR as Z,dS as ee}from"./requestIdleCallbackPolyfill-CEimuL3I.js";import{u as te,g as ne,t as re,a as ae}from"./useForm-BmxkZ3hM.js";import{C as le,R as oe}from"./row-eYrfNDsp.js";import{Q as ie}from"./QuestionCircleOutlined-DSm95oJP.js";function se(t){const[n,r]=e.useState(t);return e.useEffect(()=>{const e=setTimeout(()=>{r(t)},t.length?0:10);return()=>{clearTimeout(e)}},[t]),n}const ce=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},ue=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${o(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${o(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),de=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},me=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},l(e)),ue(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},de(e,e.controlHeightSM)),"&-large":Object.assign({},de(e,e.controlHeightLG))})}},pe=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:a,antCls:o,labelRequiredMarkColor:i,labelColor:s,labelFontSize:c,labelHeight:u,labelColonMarginInlineStart:d,labelColonMarginInlineEnd:m,itemMarginBottom:p}=e;return{[t]:Object.assign(Object.assign({},l(e)),{marginBottom:p,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:u,color:s,fontSize:c,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:i,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:d,marginInlineEnd:m},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${a}-col-'"]):not([class*="' ${a}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${o}-switch:only-child, > ${o}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:r,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},fe=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},ge=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},be=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),he=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:be(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},$e=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,\n        ${r}-col-24${n}-label,\n        ${r}-col-xl-24${n}-label`]:be(e)}},[`@media (max-width: ${o(e.screenXSMax)})`]:[he(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:be(e)}}}],[`@media (max-width: ${o(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:be(e)}}},[`@media (max-width: ${o(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:be(e)}}},[`@media (max-width: ${o(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:be(e)}}}}},ye=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${n}-col-24${t}-label,\n      ${n}-col-xl-24${t}-label`]:be(e),[`@media (max-width: ${o(e.screenXSMax)})`]:[he(e),{[t]:{[`${n}-col-xs-24${t}-label`]:be(e)}}],[`@media (max-width: ${o(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:be(e)}},[`@media (max-width: ${o(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:be(e)}},[`@media (max-width: ${o(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:be(e)}}}},xe=(e,t)=>a(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),ve=t("Form",(e,{rootPrefixCls:t})=>{const a=xe(e,t);return[me(a),pe(a),ce(a),fe(a,a.componentCls),fe(a,a.formItemCls),ge(a),$e(a),ye(a),n(a),r]},e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),{order:-1e3}),Ce=[];function we(e,t,n,r=0){return{key:"string"==typeof e?e:`${t}-${r}`,error:e,errorStatus:n}}const Oe=({help:t,helpStatus:n,errors:r=Ce,warnings:a=Ce,className:l,fieldId:o,onVisibleChanged:f})=>{const{prefixCls:g}=e.useContext(i),b=`${g}-item-explain`,h=s(g),[$,y,x]=ve(g,h),v=e.useMemo(()=>c(g),[g]),C=se(r),w=se(a),O=e.useMemo(()=>null!=t?[we(t,"help",n)]:[].concat(u(C.map((e,t)=>we(e,"error","error",t))),u(w.map((e,t)=>we(e,"warning","warning",t)))),[t,n,C,w]),E=e.useMemo(()=>{const e={};return O.forEach(({key:t})=>{e[t]=(e[t]||0)+1}),O.map((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${n}`:t.key}))},[O]),S={};return o&&(S.id=`${o}_help`),$(e.createElement(d,{motionDeadline:v.motionDeadline,motionName:`${g}-show-help`,visible:!!E.length,onVisibleChanged:f},t=>{const{className:n,style:r}=t;return e.createElement("div",Object.assign({},S,{className:m(b,n,x,h,l,y),style:r}),e.createElement(p,Object.assign({keys:E},c(g),{motionName:`${g}-show-help-item`,component:!1}),t=>{const{key:n,error:r,errorStatus:a,className:l,style:o}=t;return e.createElement("div",{key:n,className:m(l,{[`${b}-${a}`]:a}),style:o},r)}))}))};const Ee=(t,n)=>{const r=e.useContext(f),{getPrefixCls:a,direction:l,requiredMark:o,colon:i,scrollToFirstError:c,className:u,style:d}=g("form"),{prefixCls:p,className:O,rootClassName:E,size:S,disabled:j=r,form:k,colon:I,labelAlign:M,labelWrap:F,labelCol:P,wrapperCol:N,hideRequiredMark:q,layout:z="horizontal",scrollToFirstError:R,requiredMark:H,onFinishFailed:D,name:T,style:W,feedbackIcons:A,variant:B}=t,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),_=b(S),V=e.useContext(h),X=e.useMemo(()=>void 0!==H?H:!q&&(void 0===o||o),[q,H,o]),G=null!=I?I:i,K=a("form",p),Y=s(K),[Q,U,J]=ve(K,Y),Z=m(K,`${K}-${z}`,{[`${K}-hide-required-mark`]:!1===X,[`${K}-rtl`]:"rtl"===l,[`${K}-${_}`]:_},J,Y,U,u,O,E),[ee]=te(k),{__INTERNAL__:ne}=ee;ne.name=T;const re=e.useMemo(()=>({name:T,labelAlign:M,labelCol:P,labelWrap:F,wrapperCol:N,vertical:"vertical"===z,colon:G,requiredMark:X,itemRef:ne.itemRef,form:ee,feedbackIcons:A}),[T,M,P,N,z,G,X,ee,A]),ae=e.useRef(null);e.useImperativeHandle(n,()=>{var e;return Object.assign(Object.assign({},ee),{nativeElement:null===(e=ae.current)||void 0===e?void 0:e.nativeElement})});const le=(e,t)=>{if(e){let n={block:"nearest"};"object"==typeof e&&(n=Object.assign(Object.assign({},n),e)),ee.scrollToField(t,n)}};return Q(e.createElement($.Provider,{value:B},e.createElement(y,{disabled:j},e.createElement(x.Provider,{value:_},e.createElement(v,{validateMessages:V},e.createElement(C.Provider,{value:re},e.createElement(w,Object.assign({id:T},L,{name:T,onFinishFailed:e=>{if(null==D||D(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==R)return void le(R,t);void 0!==c&&le(c,t)}},form:ee,ref:ae,style:Object.assign(Object.assign({},d),W),className:Z}))))))))},Se=e.forwardRef(Ee);const je=()=>{const{status:t,errors:n=[],warnings:r=[]}=e.useContext(E);return{status:t,errors:n,warnings:r}};je.Context=E;const ke=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},Ie=I(["Form","item-item"],(e,{rootPrefixCls:t})=>{const n=xe(e,t);return[ke(n)]});const Me=t=>{const{prefixCls:n,status:r,labelCol:a,wrapperCol:l,children:o,errors:s,warnings:c,_internalItemRender:u,extra:d,help:p,fieldId:f,marginBottom:g,onErrorVisibleChanged:b,label:h}=t,$=`${n}-item`,y=e.useContext(C),x=e.useMemo(()=>{let e=Object.assign({},l||y.wrapperCol||{});if(null===h&&!a&&!l&&y.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach(t=>{const n=t?[t]:[],r=M(y.labelCol,n),a="object"==typeof r?r:{},l=M(e,n);"span"in a&&!("offset"in("object"==typeof l?l:{}))&&a.span<24&&(e=F(e,[].concat(n,["offset"]),a.span))})}return e},[l,y]),v=m(`${$}-control`,x.className),w=e.useMemo(()=>{const{labelCol:e,wrapperCol:t}=y;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(y,["labelCol","wrapperCol"])},[y]),O=e.useRef(null),[E,S]=e.useState(0);P(()=>{d&&O.current?S(O.current.clientHeight):S(0)},[d]);const j=e.createElement("div",{className:`${$}-control-input`},e.createElement("div",{className:`${$}-control-input-content`},o)),k=e.useMemo(()=>({prefixCls:n,status:r}),[n,r]),I=null!==g||s.length||c.length?e.createElement(i.Provider,{value:k},e.createElement(Oe,{fieldId:f,errors:s,warnings:c,help:p,helpStatus:r,className:`${$}-explain-connected`,onVisibleChanged:b})):null,N={};f&&(N.id=`${f}_extra`);const q=d?e.createElement("div",Object.assign({},N,{className:`${$}-extra`,ref:O}),d):null,z=I||q?e.createElement("div",{className:`${$}-additional`,style:g?{minHeight:g+E}:{}},I,q):null,R=u&&"pro_table_render"===u.mark&&u.render?u.render(t,{input:j,errorList:I,extra:q}):e.createElement(e.Fragment,null,j,z);return e.createElement(C.Provider,{value:w},e.createElement(le,Object.assign({},x,{className:v}),R),e.createElement(Ie,{prefixCls:n}))};var Fe=function(t,n){return e.createElement(N,q({},t,{ref:n,icon:ie}))},Pe=e.forwardRef(Fe);const Ne=({prefixCls:t,label:n,htmlFor:r,labelCol:a,labelAlign:l,colon:o,required:i,requiredMark:s,tooltip:c,vertical:u})=>{var d;const[p]=z("Form"),{labelAlign:f,labelCol:g,labelWrap:b,colon:h}=e.useContext(C);if(!n)return null;const $=a||g||{},y=`${t}-item-label`,x=m(y,"left"===(l||f)&&`${y}-left`,$.className,{[`${y}-wrap`]:!!b});let v=n;const w=!0===o||!1!==h&&!1!==o;w&&!u&&"string"==typeof n&&n.trim()&&(v=n.replace(/[:|：]\s*$/,""));const O=function(t){return null==t?null:"object"!=typeof t||e.isValidElement(t)?{title:t}:t}(c);if(O){const{icon:n=e.createElement(Pe,null)}=O,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(O,["icon"]),a=e.createElement(R,Object.assign({},r),e.cloneElement(n,{className:`${t}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));v=e.createElement(e.Fragment,null,v,a)}const E="optional"===s,S="function"==typeof s,j=!1===s;let k;S?v=s(v,{required:!!i}):E&&!i&&(v=e.createElement(e.Fragment,null,v,e.createElement("span",{className:`${t}-item-optional`,title:""},(null==p?void 0:p.optional)||(null===(d=H.Form)||void 0===d?void 0:d.optional)))),j?k="hidden":(E||S)&&(k="optional");const I=m({[`${t}-item-required`]:i,[`${t}-item-required-mark-${k}`]:k,[`${t}-item-no-colon`]:!w});return e.createElement(le,Object.assign({},$,{className:x}),e.createElement("label",{htmlFor:r,className:I,title:"string"==typeof n?n:""},v))},qe={success:A,warning:W,error:T,validating:D};function ze({children:t,errors:n,warnings:r,hasFeedback:a,validateStatus:l,prefixCls:o,meta:i,noStyle:s,name:c}){const u=`${o}-item`,{feedbackIcons:d}=e.useContext(C),p=ne(n,r,i,null,!!a,l),{isFormItemInput:f,status:g,hasFeedback:b,feedbackIcon:h,name:$}=e.useContext(E),y=e.useMemo(()=>{var t;let l;if(a){const o=!0!==a&&a.icons||d,i=p&&(null===(t=null==o?void 0:o({status:p,errors:n,warnings:r}))||void 0===t?void 0:t[p]),s=p&&qe[p];l=!1!==i&&s?e.createElement("span",{className:m(`${u}-feedback-icon`,`${u}-feedback-icon-${p}`)},i||e.createElement(s,null)):null}const o={status:p||"",errors:n,warnings:r,hasFeedback:!!a,feedbackIcon:l,isFormItemInput:!0,name:c};return s&&(o.status=(null!=p?p:g)||"",o.isFormItemInput=f,o.hasFeedback=!!(null!=a?a:b),o.feedbackIcon=void 0!==a?o.feedbackIcon:h,o.name=null!=c?c:$),o},[p,a,s,f,g]);return e.createElement(E.Provider,{value:y},t)}function Re(t){const{prefixCls:n,className:r,rootClassName:a,style:l,help:o,errors:i,warnings:s,validateStatus:c,meta:u,hasFeedback:d,hidden:p,children:f,fieldId:g,required:b,isRequired:h,onSubItemMetaChange:$,layout:y,name:x}=t,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),w=`${n}-item`,{requiredMark:O,vertical:E}=e.useContext(C),S=E||"vertical"===y,j=e.useRef(null),k=se(i),I=se(s),M=null!=o,F=!!(M||i.length||s.length),N=!!j.current&&B(j.current),[q,z]=e.useState(null);P(()=>{if(F&&j.current){const e=getComputedStyle(j.current);z(parseInt(e.marginBottom,10))}},[F,N]);const R=((e=!1)=>{const t=e?k:u.errors,n=e?I:u.warnings;return ne(t,n,u,"",!!d,c)})(),H=m(w,r,a,{[`${w}-with-help`]:M||k.length||I.length,[`${w}-has-feedback`]:R&&d,[`${w}-has-success`]:"success"===R,[`${w}-has-warning`]:"warning"===R,[`${w}-has-error`]:"error"===R,[`${w}-is-validating`]:"validating"===R,[`${w}-hidden`]:p,[`${w}-${y}`]:y});return e.createElement("div",{className:H,style:l,ref:j},e.createElement(oe,Object.assign({className:`${w}-row`},L(v,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),e.createElement(Ne,Object.assign({htmlFor:g},t,{requiredMark:O,required:null!=b?b:h,prefixCls:n,vertical:S})),e.createElement(Me,Object.assign({},t,u,{errors:k,warnings:I,prefixCls:n,status:R,help:o,marginBottom:q,onErrorVisibleChanged:e=>{e||z(null)}}),e.createElement(_.Provider,{value:$},e.createElement(ze,{prefixCls:n,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:d,validateStatus:R,name:x},f)))),!!q&&e.createElement("div",{className:`${w}-margin-offset`,style:{marginBottom:-q}}))}const He=e.memo(({children:e})=>e,(e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{const r=e[n],a=t[n];return r===a||"function"==typeof r||"function"==typeof a})}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((e,n)=>e===t.childProps[n]));const De=function(t){const{name:n,noStyle:r,className:a,dependencies:l,prefixCls:o,shouldUpdate:i,rules:c,children:d,required:p,label:f,messageVariables:g,trigger:b="onChange",validateTrigger:h,hidden:$,help:y,layout:x}=t,{getPrefixCls:v}=e.useContext(V),{name:w}=e.useContext(C),E=function(e){if("function"==typeof e)return e;const t=O(e);return t.length<=1?t[0]:t}(d),I="function"==typeof E,M=e.useContext(_),{validateTrigger:F}=e.useContext(X),P=void 0!==h?h:F,N=!(null==n),q=v("form",o),z=s(q),[R,H,D]=ve(q,z);G();const T=e.useContext(K),W=e.useRef(null),[A,B]=function(t){const[n,r]=e.useState(t),a=e.useRef(null),l=e.useRef([]),o=e.useRef(!1);return e.useEffect(()=>(o.current=!1,()=>{o.current=!0,S.cancel(a.current),a.current=null}),[]),[n,function(e){o.current||(null===a.current&&(l.current=[],a.current=S(()=>{a.current=null,r(e=>{let t=e;return l.current.forEach(e=>{t=e(t)}),t})})),l.current.push(e))}]}({}),[L,Z]=Y(()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1})),ee=(e,t)=>{B(n=>{const r=Object.assign({},n),a=[].concat(u(e.name.slice(0,-1)),u(t)).join("__SPLIT__");return e.destroy?delete r[a]:r[a]=e,r})},[te,ne]=e.useMemo(()=>{const e=u(L.errors),t=u(L.warnings);return Object.values(A).forEach(n=>{e.push.apply(e,u(n.errors||[])),t.push.apply(t,u(n.warnings||[]))}),[e,t]},[A,L.errors,L.warnings]),le=function(){const{itemRef:t}=e.useContext(C),n=e.useRef({});return function(e,r){const a=r&&"object"==typeof r&&j(r),l=e.join("_");return n.current.name===l&&n.current.originRef===a||(n.current.name=l,n.current.originRef=a,n.current.ref=k(t(e),a)),n.current.ref}}();function oe(l,o,i){return r&&!$?e.createElement(ze,{prefixCls:q,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:L,errors:te,warnings:ne,noStyle:!0,name:n},l):e.createElement(Re,Object.assign({key:"row"},t,{className:m(a,D,z,H),prefixCls:q,fieldId:o,isRequired:i,errors:te,warnings:ne,meta:L,onSubItemMetaChange:ee,layout:x,name:n}),l)}if(!N&&!I&&!l)return R(oe(E));let ie={};return"string"==typeof f?ie.label=f:n&&(ie.label=String(n)),g&&(ie=Object.assign(Object.assign({},ie),g)),R(e.createElement(Q,Object.assign({},t,{messageVariables:ie,trigger:b,validateTrigger:P,onMetaChange:e=>{const t=null==T?void 0:T.getKey(e.name);if(Z(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),r&&!1!==y&&M){let n=e.name;if(e.destroy)n=W.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(u(r)),W.current=n}M(e,n)}}}),(r,a,o)=>{const s=re(n).length&&a?a.name:[],d=ae(s,w),m=void 0!==p?p:!!(null==c?void 0:c.some(e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(o);return(null==t?void 0:t.required)&&!(null==t?void 0:t.warningOnly)}return!1})),f=Object.assign({},r);let g=null;if(Array.isArray(E)&&N)g=E;else if(I&&(!i&&!l||N));else if(!l||I||N)if(e.isValidElement(E)){const n=Object.assign(Object.assign({},E.props),f);if(n.id||(n.id=d),y||te.length>0||ne.length>0||t.extra){const e=[];(y||te.length>0)&&e.push(`${d}_help`),t.extra&&e.push(`${d}_extra`),n["aria-describedby"]=e.join(" ")}te.length>0&&(n["aria-invalid"]="true"),m&&(n["aria-required"]="true"),U(E)&&(n.ref=le(s,E));new Set([].concat(u(re(b)),u(re(P)))).forEach(e=>{n[e]=(...t)=>{var n,r,a,l,o;null===(a=f[e])||void 0===a||(n=a).call.apply(n,[f].concat(t)),null===(o=(l=E.props)[e])||void 0===o||(r=o).call.apply(r,[l].concat(t))}});const r=[n["aria-required"],n["aria-invalid"],n["aria-describedby"]];g=e.createElement(He,{control:f,update:E,childProps:r},J(E,n))}else g=I&&(i||l)&&!N?E(o):E;else;return oe(g,d,m)}))};De.useStatus=je;const Te=Se;Te.Item=De,Te.List=t=>{var{prefixCls:n,children:r}=t,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["prefixCls","children"]);const{getPrefixCls:l}=e.useContext(V),o=l("form",n),s=e.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return e.createElement(Z,Object.assign({},a),(t,n,a)=>e.createElement(i.Provider,{value:s},r(t.map(e=>Object.assign(Object.assign({},e),{fieldKey:e.key})),n,{errors:a.errors,warnings:a.warnings})))},Te.ErrorList=Oe,Te.useForm=te,Te.useFormInstance=function(){const{form:t}=e.useContext(C);return t},Te.useWatch=ee,Te.Provider=v,Te.create=()=>{};export{Te as F,Pe as R};
