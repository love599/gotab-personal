import{c as e,F as a,r as l,j as s,w as r,L as t,a8 as n,B as o,n as c,C as m,e as i,a9 as u,H as d,D as f,aa as h,O as p,E as x}from"./main-B_h69F6u.js";import{r as S}from"./transformData-DIunLHGi.js";import{C as j}from"./contentLayout-CsifLihB.js";function b(){const b=e.c(23),[_]=a.useForm();let y;b[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],b[0]=y):y=b[0];const[w,q]=l.useState(y);let g;b[1]!==_?(g=function(){m(0,q);const e=i.getState().user.token;u({url:x.getSmtpConfig,token:e}).then(e=>{_.setFieldsValue(S(e.data))}).finally(()=>{d(0,q)})},b[1]=_,b[2]=g):g=b[2];const T=g;let L,C,N;b[3]!==T?(L=()=>{T()},b[3]=T,b[4]=L):L=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(C=[],b[5]=C):C=b[5],l.useEffect(L,C),b[6]===Symbol.for("react.memo_cache_sentinel")?(N=function(e){m(1,q);const a=i.getState().user.token;f({url:x.updateSmtpConfig,token:a,data:e}).finally(()=>{d(1,q)})},b[6]=N):N=b[6];const v=N;let F,I,k,A,D,E,R,B,H,O,P;return b[7]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(h,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(p,{className:"mr-1"}),"更新用于用户注册的邮箱验证码发送验证的邮件服务器配置，推荐使用：阿里企业邮箱或者微信企业邮箱"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),b[7]=F):F=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(I={flex:"120px"},b[8]=I):I=b[8],b[9]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(a.Item,{label:"服务器地址",required:!0,name:"host",rules:[{required:!0}],children:s.jsx(r,{placeholder:"服务器地址"})}),b[9]=k):k=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(A=[{required:!0}],b[10]=A):A=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(a.Item,{label:"加密方式",required:!0,name:"encryption",rules:A,children:s.jsx(t,{placeholder:"加密方式",options:[{value:"None",label:"不加密"},{value:"SSL/TLS",label:"SSL/TLS"},{value:"STARTTLS",label:"STARTTLS"}]})}),b[11]=D):D=b[11],b[12]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(a.Item,{label:"端口",required:!0,name:"port",rules:[{required:!0}],children:s.jsx(n,{placeholder:"端口"})}),b[12]=E):E=b[12],b[13]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(a.Item,{label:"用户名",required:!0,name:"username",rules:[{required:!0}],children:s.jsx(r,{placeholder:"用户名"})}),b[13]=R):R=b[13],b[14]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(a.Item,{label:"密码",required:!0,name:"password",rules:[{required:!0}],children:s.jsx(r.Password,{autoComplete:"new-password",placeholder:"密码"})}),b[14]=B):B=b[14],b[15]!==w[1]?(H=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(o,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:w[1],children:"保存配置"})}),b[15]=w[1],b[16]=H):H=b[16],b[17]!==_||b[18]!==H?(O=s.jsxs(a,{autoComplete:"off",form:_,className:"w-full",labelCol:I,onFinish:v,children:[k,D,E,R,B,H]}),b[17]=_,b[18]=H,b[19]=O):O=b[19],b[20]!==w[0]||b[21]!==O?(P=s.jsxs(j,{children:[F,s.jsx("div",{className:"w-full",children:s.jsx(c,{spinning:w[0],children:O})})]}),b[20]=w[0],b[21]=O,b[22]=P):P=b[22],P}export{b as default};
