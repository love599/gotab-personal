import{r as e,c as t,t as s,j as o,E as i,u as r,bh as a,g as l,B as m,m as p,a as n,w as d,x as c,y as j,z as u}from"./requestIdleCallbackPolyfill-CRtcYtqz.js";import{b as x}from"./index-BWhUmfCX.js";import{b as h}from"./sortableJsUtils-CfY30Vxy.js";import{aQ as g}from"./myFolderModal-jG-tHH9Z.js";import"./iconBase-DTCtk8KC.js";import"./handleButton-CO9fxx0P.js";import"./LikeOutlined-CNPE2vt8.js";import"./MailOutlined-jCQFQ878.js";import"./Overflow-Dw8Kex4x.js";import"./FolderOpenOutlined-ComJ5RAY.js";import"./SearchOutlined-B80XGBAY.js";import"./Input-DELR_BSE.js";import"./getAllowClear-rD1UM-lP.js";import"./myModal-k-MK06RX.js";import"./index-BGbaREI1.js";import"./useForm-Au5dOVxA.js";import"./row-pVBpgFkh.js";import"./useBreakpoint-E2sLeglb.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./index-B0U6GSVy.js";import"./TextArea-B5lq4i0U.js";import"./CloudUploadOutlined-CPgK-3kN.js";import"./PlusOutlined-ByZyTB3m.js";import"./fullSpin-DoLB4rVp.js";import"./index-bQRXjpSB.js";import"./sortable.esm-Bv0j-UjJ.js";import"./useFresh-y1lmOc8g.js";import"./index-DzNwoECr.js";import"./index-BIBYr-gg.js";import"./LeftOutlined-D9Sp279J.js";import"./LinkOutlined-DopLHcZx.js";import"./index-CF37AyZG.js";import"./index-Nrm3Ms4y.js";import"./ColorPicker-CjotOysx.js";import"./index-DmIR1Fgm.js";import"./index-BgMRx6qH.js";import"./useIsSmallScreen-BXqZh8mn.js";import"./ExportOutlined-8qrQgjtC.js";import"./PlusOutlined--6NjBz5c.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-By8KUpxJ.js";import"./styleChecker-BRhAwd4B.js";import"./addRecommendAppForm-DlHFcMaS.js";import"./myDrawer2-C3qoQ7S2.js";import"./submitForInclusion-CW_Qim78.js";import"./assets-B8Bi78Vh.js";import"./RedoOutlined-B72iKt02.js";import"./UserOutlined-B1UxF3gI.js";import"./QuestionCircleOutlined-BsueyuX1.js";const b={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gridAutoRows:"150px",gap:"24px"},f=e=>{const r=t.c(9),{targetCategory:a}=e,{token:l}=s.useToken();let m,p,n,d;return r[0]!==a?(m=g.map((e,t)=>o.jsx(k,{item:e,targetCategory:a},t)),r[0]=a,r[1]=m):m=r[1],r[2]!==m?(p=o.jsx("div",{style:b,children:m}),r[2]=m,r[3]=p):p=r[3],r[4]!==l.colorTextDisabled?(n=o.jsx(i,{className:"text-xs m-0 pt-6",style:{color:l.colorTextDisabled},children:"到达底部"}),r[4]=l.colorTextDisabled,r[5]=n):n=r[5],r[6]!==p||r[7]!==n?(d=o.jsxs("div",{className:"max-w-[640px] m-auto",children:[p,n]}),r[6]=p,r[7]=n,r[8]=d):d=r[8],d};f.displayName="AddComponent";const y=e.memo(f),k=e.memo(t=>{const{item:i,targetCategory:g}=t,b=r(),{token:f}=s.useToken(),y=a("(prefers-color-scheme: dark)"),k=l(e=>e.wallpaperTheme.themeMode),C=e.useCallback(e=>"auto"===e?y?"hover:bg-white hover:bg-opacity-15":"hover:bg-black hover:bg-opacity-10":"light"===e?"hover:bg-black hover:bg-opacity-10":"hover:bg-white hover:bg-opacity-15",[y]);return o.jsxs("div",{className:`flex flex-col rounded-md p-3 cursor-pointer ${C(k)} transition-main`,style:{backgroundColor:f.colorBgContainerDisabled},onClick:()=>{p.info("请点击右下角进行添加")},children:[o.jsx("div",{className:"flex-1 flex-center",children:o.jsx("img",{src:i.imgPreview,className:"h-full max-h-[72px] rounded-2xl i-shadow",alt:i.label,loading:"lazy"})}),o.jsxs("div",{className:"flex items-center h-[20px]",children:[o.jsx("span",{className:"flex-1 font-semibold line-clamp-1",children:i.label}),o.jsx(m,{onClick:e=>{e.stopPropagation(),e.preventDefault(),(e=>{try{const t=n.getState().card.defaultCardSize,s={id:d(),type:e.type,label:e.label,size:("newAddCard"===e.type||"bookmark"===e.type||"history"===e.type||"settings"===e.type)&&t||e.size},o=n.getState().home.showFreeDrag,i=n.getState().swiper.showSwiper;if(o&&!i){const t=n.getState().appData.freeDragListData,o=c(t).concat(s);b(j(o)),p.success(`【${e.label}】已添加至自由拖拽区域`)}else{const t=n.getState().appData.listData,o=h(c(t),g,s);b(u(o)),p.success(`【${e.label}】添加完成`)}}catch(t){p.error("添加组件时出错，请稍后再试")}})(i)},type:"link",className:"flex-0",icon:o.jsx(x,{className:"text-2xl"})})]})]})});export{y as default};
