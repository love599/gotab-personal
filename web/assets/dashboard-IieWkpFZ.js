import{c as e,r as t,W as l,j as o,aM as s,a as n,o as a,aN as c,B as r,aO as i,t as m,a8 as d,aP as x}from"./requestIdleCallbackPolyfill-BYpT1Coe.js";import{G as h}from"./iconBase-BYx_K_xS.js";import{H as f,a as u}from"./index-BJRSApEl.js";import{R as g,C as p}from"./row-BV_iJWGF.js";import{R as b}from"./ExportOutlined-Bk-ZrZll.js";import{T as j}from"./index-1szBaMxA.js";import"./useBreakpoint-DuinsqjP.js";import"./mediaQueryUtil-DPPPwwPM.js";function y(e){return h({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"},child:[]}]})(e)}function _(e){return h({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}const k=t=>{const l=e.c(20),{label:s,value:n,icon:a,color:c,loading:r}=t,{token:d}=m.useToken();let x,h;l[0]!==d.colorBgContainer?(x={background:d.colorBgContainer},l[0]=d.colorBgContainer,l[1]=x):x=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(h={rows:2},l[2]=h):h=l[2];const f=`p-3 rounded-full ${c} text-white`;let u,g;l[3]!==a||l[4]!==f?(u=o.jsx("div",{className:f,children:a}),l[3]=a,l[4]=f,l[5]=u):u=l[5],l[6]!==s?(g=o.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:s}),l[6]=s,l[7]=g):g=l[7];const p="number"==typeof n?n:n??0;let b,j,y,_;return l[8]!==p?(b=o.jsx("p",{className:"text-xl font-bold h-7",children:p}),l[8]=p,l[9]=b):b=l[9],l[10]!==g||l[11]!==b?(j=o.jsxs("div",{className:"ml-4 flex flex-col gap-1",children:[g,b]}),l[10]=g,l[11]=b,l[12]=j):j=l[12],l[13]!==r||l[14]!==u||l[15]!==j?(y=o.jsxs(i,{title:!1,className:"h-[52px]",paragraph:h,loading:r,children:[u,j]}),l[13]=r,l[14]=u,l[15]=j,l[16]=y):y=l[16],l[17]!==x||l[18]!==y?(_=o.jsx("div",{className:"rounded-lg shadow-md p-6 flex items-center",style:x,children:y}),l[17]=x,l[18]=y,l[19]=_):_=l[19],_},w=t=>{const l=e.c(32),{item:s}=t,{token:n}=m.useToken();let a,c,r,i,d,h,f,u,g,p,b,y,_;return l[0]!==n.colorBgContainer?(a={height:"100px",background:n.colorBgContainer},l[0]=n.colorBgContainer,l[1]=a):a=l[1],l[2]!==s.link?(c=()=>{window.open(s.link,"_blank")},l[2]=s.link,l[3]=c):c=l[3],l[4]!==s.iconBackground?(r={background:s.iconBackground},l[4]=s.iconBackground,l[5]=r):r=l[5],l[6]!==s.icon?(i=x(s.icon),l[6]=s.icon,l[7]=i):i=l[7],l[8]===Symbol.for("react.memo_cache_sentinel")?(d={width:"100%"},l[8]=d):d=l[8],l[9]!==i?(h=o.jsx("img",{src:i,style:d}),l[9]=i,l[10]=h):h=l[10],l[11]!==r||l[12]!==h?(f=o.jsx("div",{className:"w-16 h-16 ml-3 rounded-2xl overflow-visible flex-center",style:r,children:h}),l[11]=r,l[12]=h,l[13]=f):f=l[13],l[14]!==s.tagColor||l[15]!==s.tagText?(u=s?.tagText&&o.jsx(j,{color:s?.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.8},children:s?.tagText}),l[14]=s.tagColor,l[15]=s.tagText,l[16]=u):u=l[16],l[17]!==s.title?(g=o.jsx("p",{className:"text-base font-semibold line-clamp-1",children:s.title}),l[17]=s.title,l[18]=g):g=l[18],l[19]!==u||l[20]!==g?(p=o.jsxs("div",{className:"text-sm mb-[4px] flex items-center",children:[u,g]}),l[19]=u,l[20]=g,l[21]=p):p=l[21],l[22]!==s.description?(b=o.jsx("p",{className:"text-gray-500 line-clamp-2 font-medium",children:s.description}),l[22]=s.description,l[23]=b):b=l[23],l[24]!==b||l[25]!==p?(y=o.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[p,b]}),l[24]=b,l[25]=p,l[26]=y):y=l[26],l[27]!==a||l[28]!==c||l[29]!==y||l[30]!==f?(_=o.jsxs("div",{style:a,className:"cursor-pointer rounded-lg p-3 shadow-md flex items-center gap-x-6",onClick:c,children:[f,y]}),l[27]=a,l[28]=c,l[29]=y,l[30]=f,l[31]=_):_=l[31],_};function S(){const m=e.c(36),[d,x]=t.useState(null),[h,j]=t.useState(!0),[w,S]=t.useState(null),[B,z]=t.useState(!0);let T;m[0]===Symbol.for("react.memo_cache_sentinel")?(T=[{icon:"https://www.rainyun.com/img/logo.d193755d.png",link:s,title:"高性价比云服务器",description:"雨云成立于2018年，是具有自主知识产权的国产云计算服务提供商。雨云为广大用户提供简单易用、便宜实惠、可信赖的云产品。"}],m[0]=T):T=m[0];const M=T;let A;m[1]===Symbol.for("react.memo_cache_sentinel")?(A=function(){const e=n.getState().user.token;l({url:a.getDashboardStats,token:e}).then(e=>{x(e.data),j(!1)}).catch(e=>{j(!1)})},m[1]=A):A=m[1];const H=A;let L;m[2]===Symbol.for("react.memo_cache_sentinel")?(L=[],m[2]=L):L=m[2],t.useLayoutEffect(()=>{l({url:J+"api/recommendApp",catchMsg:!1}).then(e=>{e.data&&S(e.data)}).finally(()=>{z(!1)}),H()},L);const W=d?.total_users;let E,O;m[3]===Symbol.for("react.memo_cache_sentinel")?(E=o.jsx(f,{size:24}),m[3]=E):E=m[3],m[4]!==W?(O={label:"总用户数",value:W,icon:E,color:"bg-blue-500"},m[4]=W,m[5]=O):O=m[5];const P=d?.new_users_today;let R,q;m[6]===Symbol.for("react.memo_cache_sentinel")?(R=o.jsx(u,{size:24}),m[6]=R):R=m[6],m[7]!==P?(q={label:"今日新增用户",value:P,icon:R,color:"bg-green-500"},m[7]=P,m[8]=q):q=m[8];const D=d?.total_websites;let G,I;m[9]===Symbol.for("react.memo_cache_sentinel")?(G=o.jsx(y,{size:24}),m[9]=G):G=m[9],m[10]!==D?(I={label:"网站总数",value:D,icon:G,color:"bg-purple-500"},m[10]=D,m[11]=I):I=m[11];const Q=d?.total_user_shares;let U,V,$;m[12]===Symbol.for("react.memo_cache_sentinel")?(U=o.jsx(_,{size:24}),m[12]=U):U=m[12],m[13]!==Q?(V={label:"用户分享页",value:Q,icon:U,color:"bg-yellow-500"},m[13]=Q,m[14]=V):V=m[14],m[15]!==I||m[16]!==V||m[17]!==O||m[18]!==q?($=[O,q,I,V],m[15]=I,m[16]=V,m[17]=O,m[18]=q,m[19]=$):$=m[19];const F=$,J="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";let K;m[20]===Symbol.for("react.memo_cache_sentinel")?(K=function(){const e=n.getState().user.token;c({url:a.exportConfigToml,token:e,responseType:"blob"}).then(C)},m[20]=K):K=m[20];const X=K;let Y,Z,ee,te,le;m[21]===Symbol.for("react.memo_cache_sentinel")?(Y=o.jsx("h1",{className:"text-lg font-bold",children:"数据概览"}),m[21]=Y):Y=m[21],m[22]===Symbol.for("react.memo_cache_sentinel")?(Z=o.jsxs("div",{className:"flex mb-3 ml-1 justify-between items-center",children:[Y,o.jsx(r,{icon:o.jsx(b,{}),onClick:X,children:"导出配置文件"})]}),m[22]=Z):Z=m[22],m[23]===Symbol.for("react.memo_cache_sentinel")?(ee=[12,12],m[23]=ee):ee=m[23],m[24]!==h||m[25]!==F?(te=o.jsx(g,{gutter:ee,children:F.map((e,t)=>o.jsx(p,{xs:{flex:"100%"},md:{flex:"50%"},lg:{flex:"50%"},xl:{flex:"25%"},children:o.jsx(k,{...e,loading:h})},t))}),m[24]=h,m[25]=F,m[26]=te):te=m[26],m[27]===Symbol.for("react.memo_cache_sentinel")?(le=o.jsx("h1",{className:"text-lg font-bold my-3 ml-1",children:"🔥 每日宝藏"}),m[27]=le):le=m[27];const oe=B||h;let se,ne,ae;return m[28]!==w?(se=w?.length>0?w?.map(N):M.map(v),m[28]=w,m[29]=se):se=m[29],m[30]!==oe||m[31]!==se?(ne=o.jsx("div",{className:"flex flex-col w-full gap-3",children:o.jsx(i,{loading:oe,className:"p-3",children:se})}),m[30]=oe,m[31]=se,m[32]=ne):ne=m[32],m[33]!==te||m[34]!==ne?(ae=o.jsxs("main",{className:"p-3 overflow-scroll",children:[Z,te,le,ne]}),m[33]=te,m[34]=ne,m[35]=ae):ae=m[35],ae}function v(e,t){return o.jsx(w,{item:e},t)}function N(e,t){return o.jsx(w,{item:e},t)}function C(e){d.saveAs(e.data,"config.toml")}export{S as default};
