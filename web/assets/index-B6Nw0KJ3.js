import{r as e,as as t,am as n,ck as a,aa as r,ab as o,a9 as s,ca as l,aj as i,c4 as c,aq as u,cn as p,c8 as f,cj as d,aB as m,bY as v,ee as g,cl as b,aV as y,B as x}from"./requestIdleCallbackPolyfill-CEimuL3I.js";import{q as C,i as O,a as h,m as j}from"./getAllowClear-Cn6nd0XC.js";import{I as E,u as w,R as k}from"./Input-BBAEOKR8.js";import{T as $}from"./TextArea-D12ZTmOp.js";const P=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},I=r(["Input","OTP"],e=>{const t=o(e,O(e));return[P(t)]},h);const z=e.forwardRef((a,r)=>{const{className:o,value:l,onChange:i,onActiveChange:c,index:u,mask:p}=a,f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:d}=e.useContext(t),m=d("otp"),v="string"==typeof p?p:l,g=e.useRef(null);e.useImperativeHandle(r,()=>g.current);const b=()=>{s(()=>{var e;const t=null===(e=g.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()})};return e.createElement("span",{className:`${m}-input-wrapper`,role:"presentation"},p&&""!==l&&void 0!==l&&e.createElement("span",{className:`${m}-mask-icon`,"aria-hidden":"true"},v),e.createElement(E,Object.assign({"aria-label":`OTP Input ${u+1}`,type:!0===p?"password":"text"},f,{ref:g,value:l,onInput:e=>{i(u,e.target.value)},onFocus:b,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:a}=e;"ArrowLeft"===t?c(u-1):"ArrowRight"===t?c(u+1):"z"===t&&(n||a)&&e.preventDefault(),b()},onKeyUp:e=>{"Backspace"!==e.key||l||c(u-1),b()},onMouseDown:b,onMouseUp:b,className:n(o,{[`${m}-mask-input`]:p})})))});function S(e){return(e||"").split("")}const N=t=>{const{index:n,prefixCls:a,separator:r}=t,o="function"==typeof r?r(n):r;return o?e.createElement("span",{className:`${a}-separator`},o):null},M=e.forwardRef((r,o)=>{const{prefixCls:s,length:p=6,size:f,defaultValue:d,value:m,onChange:v,formatter:g,separator:b,variant:y,disabled:x,status:C,autoFocus:O,mask:h,type:E,onInput:w,inputMode:k}=r,$=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(r,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:P,direction:M}=e.useContext(t),A=P("otp",s),R=l($,{aria:!0,data:!0,attr:!0}),[B,T,D]=I(A),F=i(e=>null!=f?f:e),L=e.useContext(a),q=j(L.status,C),X=e.useMemo(()=>Object.assign(Object.assign({},L),{status:q,hasFeedback:!1,feedbackIcon:null}),[L,q]),V=e.useRef(null),K=e.useRef({});e.useImperativeHandle(o,()=>({focus:()=>{var e;null===(e=K.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<p;t+=1)null===(e=K.current[t])||void 0===e||e.blur()},nativeElement:V.current}));const U=e=>g?g(e):e,[Q,_]=e.useState(()=>S(U(d||"")));e.useEffect(()=>{void 0!==m&&_(S(m))},[m]);const G=c(e=>{_(e),w&&w(e),v&&e.length===p&&e.every(e=>e)&&e.some((e,t)=>Q[t]!==e)&&v(e.join(""))}),H=c((e,t)=>{let n=u(Q);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(S(t)),n=n.slice(0,p);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const a=U(n.map(e=>e||" ").join(""));return n=S(a).map((e,t)=>" "!==e||n[t]?e:n[t]),n}),W=(e,t)=>{var n;const a=H(e,t),r=Math.min(e+t.length,p-1);r!==e&&void 0!==a[e]&&(null===(n=K.current[r])||void 0===n||n.focus()),G(a)},Y=e=>{var t;null===(t=K.current[e])||void 0===t||t.focus()},J={variant:y,disabled:x,status:q,mask:h,type:E,inputMode:k};return B(e.createElement("div",Object.assign({},R,{ref:V,className:n(A,{[`${A}-sm`]:"small"===F,[`${A}-lg`]:"large"===F,[`${A}-rtl`]:"rtl"===M},D,T),role:"group"}),e.createElement(a.Provider,{value:X},Array.from({length:p}).map((t,n)=>{const a=`otp-${n}`,r=Q[n]||"";return e.createElement(e.Fragment,{key:a},e.createElement(z,Object.assign({ref:e=>{K.current[n]=e},index:n,size:F,htmlSize:1,className:`${A}-input`,onChange:W,value:r,onActiveChange:Y,autoFocus:0===n&&O},J)),n<p-1&&e.createElement(N,{separator:b,index:n,prefixCls:A}))}))))});var A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},R=function(t,n){return e.createElement(p,f({},t,{ref:n,icon:A}))},B=e.forwardRef(R);const T=t=>t?e.createElement(g,null):e.createElement(B,null),D={click:"onClick",hover:"onMouseOver"},F=e.forwardRef((a,r)=>{const{disabled:o,action:s="click",visibilityToggle:l=!0,iconRender:i=T}=a,c=e.useContext(d),u=null!=o?o:c,p="object"==typeof l&&void 0!==l.visible,[f,g]=e.useState(()=>!!p&&l.visible),b=e.useRef(null);e.useEffect(()=>{p&&g(l.visible)},[p,l]);const y=w(b),x=()=>{var e;if(u)return;f&&y();const t=!f;g(t),"object"==typeof l&&(null===(e=l.onVisibleChange)||void 0===e||e.call(l,t))},{className:C,prefixCls:O,inputPrefixCls:h,size:j}=a,k=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:$}=e.useContext(t),P=$("input",h),I=$("input-password",O),z=l&&(t=>{const n=D[s]||"",a=i(f),r={[n]:x,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(a)?a:e.createElement("span",null,a),r)})(I),S=n(I,C,{[`${I}-${j}`]:!!j}),N=Object.assign(Object.assign({},m(k,["suffix","iconRender","visibilityToggle"])),{type:f?"text":"password",className:S,prefixCls:P,suffix:z});return j&&(N.size=j),e.createElement(E,Object.assign({ref:v(r,b)},N))});const L=e.forwardRef((a,r)=>{const{prefixCls:o,inputPrefixCls:s,className:l,size:c,suffix:u,enterButton:p=!1,addonAfter:f,loading:d,disabled:m,onSearch:g,onChange:C,onCompositionStart:O,onCompositionEnd:h,variant:j,onPressEnter:w}=a,$=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:P,direction:I}=e.useContext(t),z=e.useRef(!1),S=P("input-search",o),N=P("input",s),{compactSize:M}=b(S,I),A=i(e=>{var t;return null!==(t=null!=c?c:M)&&void 0!==t?t:e}),R=e.useRef(null),B=e=>{var t;document.activeElement===(null===(t=R.current)||void 0===t?void 0:t.input)&&e.preventDefault()},T=e=>{var t,n;g&&g(null===(n=null===(t=R.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},D="boolean"==typeof p?e.createElement(k,null):null,F=`${S}-button`;let L;const q=p||{},X=q.type&&!0===q.type.__ANT_BUTTON;L=X||"button"===q.type?y(q,Object.assign({onMouseDown:B,onClick:e=>{var t,n;null===(n=null===(t=null==q?void 0:q.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),T(e)},key:"enterButton"},X?{className:F,size:A}:{})):e.createElement(x,{className:F,color:p?"primary":"default",size:A,disabled:m,key:"enterButton",onMouseDown:B,onClick:T,loading:d,icon:D,variant:"borderless"===j||"filled"===j||"underlined"===j?"text":p?"solid":void 0},p),f&&(L=[L,y(f,{key:"addonAfter"})]);const V=n(S,{[`${S}-rtl`]:"rtl"===I,[`${S}-${A}`]:!!A,[`${S}-with-button`]:!!p},l),K=Object.assign(Object.assign({},$),{className:V,prefixCls:N,type:"search",size:A,variant:j,onPressEnter:e=>{z.current||d||(null==w||w(e),T(e))},onCompositionStart:e=>{z.current=!0,null==O||O(e)},onCompositionEnd:e=>{z.current=!1,null==h||h(e)},addonAfter:L,suffix:u,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&g&&g(e.target.value,e,{source:"clear"}),null==C||C(e)},disabled:m});return e.createElement(E,Object.assign({ref:v(R,r)},K))}),q=E;q.Group=r=>{const{getPrefixCls:o,direction:s}=e.useContext(t),{prefixCls:l,className:i}=r,c=o("input-group",l),u=o("input"),[p,f,d]=C(u),m=n(c,d,{[`${c}-lg`]:"large"===r.size,[`${c}-sm`]:"small"===r.size,[`${c}-compact`]:r.compact,[`${c}-rtl`]:"rtl"===s},f,i),v=e.useContext(a),g=e.useMemo(()=>Object.assign(Object.assign({},v),{isFormItemInput:!1}),[v]);return p(e.createElement("span",{className:m,style:r.style,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onFocus:r.onFocus,onBlur:r.onBlur},e.createElement(a.Provider,{value:g},r.children)))},q.Search=L,q.TextArea=$,q.Password=F,q.OTP=M;export{q as I,B as R};
