import{r as e,c as t,t as s,j as o,F as r,u as i,bb as a,h as l,B as m,m as p,a as n,x as d,y as c,z as j,C as x}from"./requestIdleCallbackPolyfill-DoU9FIwA.js";import{b as u}from"./index-DhD6DOgG.js";import{b}from"./sortableJsUtils-Drr80ygW.js";import{b6 as g}from"./myFolderModal-BaY8D6ar.js";import"./iconBase-e7WfhDDE.js";import"./handleButton-DQeA4kaX.js";import"./fullSpin-DfHViZJG.js";import"./index-YyYs-mXR.js";import"./myModal-CqhYm56b.js";import"./useBreakpoint-xRBdhL2a.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./sortable.esm-Bv0j-UjJ.js";import"./useFresh-BPu3o4Ml.js";import"./index-CRJ7dhHF.js";import"./useForm-CW3rwJm8.js";import"./index-GVUbtrZR.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-DjR1aFWc.js";import"./Overflow-B-O7IF8-.js";import"./index-OP_kbtb2.js";import"./getAllowClear-VAszIRBx.js";import"./Input-CqajMQ6D.js";import"./index-Cr4L1iDP.js";import"./row-D5QnkDzE.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./index-DWLaguo5.js";import"./TextArea-C3zYesjv.js";import"./index-Nh4HMtRK.js";import"./CloudUploadOutlined-CIRLmRub.js";import"./ColorPicker-CgfIJ3nB.js";import"./index-vGlmZaTG.js";import"./index-B2wLx8Jx.js";import"./useIsSmallScreen-DRd273kv.js";import"./ExportOutlined-QEhExVov.js";import"./PlusOutlined-CN_1dRjg.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-8BsyXLrx.js";import"./styleChecker-DVpt2Hb3.js";import"./myDrawer2-CqMTi0ve.js";import"./addRecommendAppForm-CiKtJbNn.js";import"./submitForInclusion-DeFjf1lg.js";import"./assets-B8Bi78Vh.js";import"./SearchOutlined-BpOwJlcL.js";import"./UserOutlined-BSS52Jmh.js";import"./QuestionCircleOutlined-CVhhmpfu.js";const h={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gridAutoRows:"150px",gap:"24px"},y=e=>{const i=t.c(9),{targetCategory:a}=e,{token:l}=s.useToken();let m,p,n,d;return i[0]!==a?(m=g.map((e,t)=>o.jsx(C,{item:e,targetCategory:a},t)),i[0]=a,i[1]=m):m=i[1],i[2]!==m?(p=o.jsx("div",{style:h,children:m}),i[2]=m,i[3]=p):p=i[3],i[4]!==l.colorTextDisabled?(n=o.jsx(r,{className:"text-xs m-0 pt-6",style:{color:l.colorTextDisabled},children:"到达底部"}),i[4]=l.colorTextDisabled,i[5]=n):n=i[5],i[6]!==p||i[7]!==n?(d=o.jsxs("div",{className:"max-w-[640px] m-auto",children:[p,n]}),i[6]=p,i[7]=n,i[8]=d):d=i[8],d};y.displayName="AddComponent";const f=e.memo(y),C=e.memo(t=>{const{item:r,targetCategory:g}=t,h=i(),{token:y}=s.useToken(),f=a("(prefers-color-scheme: dark)"),C=l(e=>e.wallpaperTheme.themeMode),k=e.useCallback(e=>"auto"===e?f?"hover:bg-white hover:bg-opacity-15":"hover:bg-black hover:bg-opacity-10":"light"===e?"hover:bg-black hover:bg-opacity-10":"hover:bg-white hover:bg-opacity-15",[f]);return o.jsxs("div",{className:`flex flex-col rounded-md p-3 cursor-pointer ${k(C)} transition-main`,style:{backgroundColor:y.colorBgContainerDisabled},onClick:()=>{p.info("请点击右下角进行添加")},children:[o.jsx("div",{className:"flex-1 flex-center",children:o.jsx("img",{src:r.imgPreview,className:"h-full max-h-[72px] rounded-2xl i-shadow",alt:r.label,loading:"lazy"})}),o.jsxs("div",{className:"flex items-center h-[20px]",children:[o.jsx("span",{className:"flex-1 font-semibold line-clamp-1",children:r.label}),o.jsx(m,{onClick:e=>{e.stopPropagation(),e.preventDefault(),(e=>{try{const t=n.getState().card.defaultCardSize,s={id:d(),type:e.type,label:e.label,size:("newAddCard"===e.type||"bookmark"===e.type||"history"===e.type||"settings"===e.type)&&t||e.size},o=n.getState().home.showFreeDrag,r=n.getState().swiper.showSwiper;if(o&&!r){const t=n.getState().appData.freeDragListData,o=c(t).concat(s);h(j(o)),p.success(`【${e.label}】已添加至自由拖拽区域`)}else{const t=n.getState().appData.listData,o=b(c(t),g,s);h(x(o)),p.success(`【${e.label}】添加完成`)}}catch(t){p.error("添加组件时出错，请稍后再试")}})(r)},type:"link",className:"flex-0",icon:o.jsx(u,{className:"text-2xl"})})]})]})});export{f as default};
