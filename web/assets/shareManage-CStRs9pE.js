const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/shareSay-Ca-e6p2s.js","assets/requestIdleCallbackPolyfill-DoU9FIwA.js","assets/requestIdleCallbackPolyfill-B84aztfx.css","assets/markdownContent-BxVetNM7.js"])))=>i.map(i=>d[i]);
import{c as e,h as t,r as s,j as r,B as o,S as i,_ as a,F as l,o as n,k as m,$ as c,l as d,a as u,n as p,v as h,a2 as j}from"./requestIdleCallbackPolyfill-DoU9FIwA.js";import{u as f}from"./useFresh-BPu3o4Ml.js";import{r as y}from"./transformData-DkdK_VBK.js";import{M as x}from"./myDrawer2-CqMTi0ve.js";import{M as _,R as k}from"./myTable-Bc1vJFlk.js";import{C as b}from"./contentLayout-DB4pAw8J.js";import{F as w}from"./index-Cr4L1iDP.js";import{I as g}from"./index-DWLaguo5.js";import{R as S,a as O}from"./SearchOutlined-BpOwJlcL.js";import{T as I}from"./index-B2wLx8Jx.js";import{R as C}from"./UserOutlined-BSS52Jmh.js";import"./index-CRJ7dhHF.js";import"./useForm-CW3rwJm8.js";import"./index-GVUbtrZR.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-DjR1aFWc.js";import"./Overflow-B-O7IF8-.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-OP_kbtb2.js";import"./getAllowClear-VAszIRBx.js";import"./Input-CqajMQ6D.js";import"./handleButton-DQeA4kaX.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-BcvIGnbG.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-HeFxD1tl.js";import"./CaretDownOutlined-DcidQ0ah.js";import"./FolderOpenOutlined-BNhgQTIu.js";import"./FolderOutlined-k9jtXdfw.js";import"./styleChecker-DVpt2Hb3.js";import"./AlipayOutlined-Cno7KIjp.js";import"./AlipayOutlined-tZM3mGx9.js";import"./useEffectOnce-DVEfXvCY.js";import"./useBreakpoint-xRBdhL2a.js";import"./index-YyYs-mXR.js";import"./row-D5QnkDzE.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./TextArea-C3zYesjv.js";const F=a.lazy(()=>c(()=>import("./shareSay-Ca-e6p2s.js"),__vite__mapDeps([0,1,2,3])));function T(){const a=e.c(47),{key:m,refresh:c}=f(),d=t(P),[u]=w.useForm();let p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p={},a[0]=p):p=a[0];const[h,j]=s.useState(p);let k,I,C,T,L,R,z,B,D,U;a[1]===Symbol.for("react.memo_cache_sentinel")?(k={title:"用户名",key:"username",width:160,fixed:"left",render:M},I={title:"状态",key:"status",width:80,render:A},C={title:"分享码",key:"path",width:160,render:v},T={title:"分享页标题",key:"title",width:230},L={title:"分享页描述",key:"description",width:300},a[1]=k,a[2]=I,a[3]=C,a[4]=T,a[5]=L):(k=a[1],I=a[2],C=a[3],T=a[4],L=a[5]),a[6]!==d?(R={title:"分享有话",key:"shareSay",width:160,render:e=>e?r.jsx(o,{size:"small",type:"link",onClick:()=>{i.show(x,{title:"分享有话",backgroundOpacity:d?.92:void 0,children:r.jsx(s.Suspense,{children:r.jsx(F,{content:e||"暂未设置分享有话的内容"})}),placement:"right"})},children:"查看"}):"-"},a[6]=d,a[7]=R):R=a[7],a[8]===Symbol.for("react.memo_cache_sentinel")?(z={type:"time",title:"创建时间",key:"createdTime",width:200},B={type:"time",title:"更新时间",key:"updatedTime",width:200},a[8]=z,a[9]=B):(z=a[8],B=a[9]),a[10]!==c?(D={title:"操作",fixed:"right",width:120,render:(e,t)=>r.jsx(N,{record:t,refresh:c})},a[10]=c,a[11]=D):D=a[11],a[12]!==R||a[13]!==D?(U=[k,I,C,T,L,R,z,B,D],a[12]=R,a[13]=D,a[14]=U):U=a[14];const q=U;let E,K,Q,V,W,X,Y,Z,$,G,H,J,ee,te,se,re;return a[15]!==u?(E=()=>{const e=u.getFieldsValue();e[Math.random()]=!0,j(y(e))},a[15]=u,a[16]=E):E=a[16],a[17]===Symbol.for("react.memo_cache_sentinel")?(K={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridAutoRows:"32px"},a[17]=K):K=a[17],a[18]===Symbol.for("react.memo_cache_sentinel")?(Q=r.jsx(w.Item,{name:"username",children:r.jsx(g,{placeholder:"用户名"})}),a[18]=Q):Q=a[18],a[19]===Symbol.for("react.memo_cache_sentinel")?(V=r.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:K,children:[Q,r.jsx(w.Item,{name:"path",children:r.jsx(g,{placeholder:"分享码"})})]}),a[19]=V):V=a[19],a[20]!==u?(W=()=>{u.submit()},a[20]=u,a[21]=W):W=a[21],a[22]===Symbol.for("react.memo_cache_sentinel")?(X=r.jsx(S,{}),a[22]=X):X=a[22],a[23]!==W?(Y=r.jsx(o,{type:"primary",onClick:W,icon:X,children:"查询"}),a[23]=W,a[24]=Y):Y=a[24],a[25]!==u?(Z=()=>{u.resetFields();const e={};e[Math.random()]=!0,j(e)},a[25]=u,a[26]=Z):Z=a[26],a[27]===Symbol.for("react.memo_cache_sentinel")?($=r.jsx(O,{}),a[27]=$):$=a[27],a[28]!==Z?(G=r.jsx(o,{onClick:Z,icon:$,children:"重置"}),a[28]=Z,a[29]=G):G=a[29],a[30]!==Y||a[31]!==G?(H=r.jsxs("div",{className:"flex flex-wrap gap-3",children:[Y,G]}),a[30]=Y,a[31]=G,a[32]=H):H=a[32],a[33]!==u||a[34]!==E||a[35]!==H?(J=r.jsxs(w,{className:"w-full",form:u,onFinish:E,children:[V,H]}),a[33]=u,a[34]=E,a[35]=H,a[36]=J):J=a[36],a[37]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(l,{className:"my-3"}),a[37]=ee):ee=a[37],a[38]!==h?(te={searchParams:h},a[38]=h,a[39]=te):te=a[39],a[40]!==q||a[41]!==m||a[42]!==te?(se=r.jsx(_,{columns:q,getListUrl:n.getAwaitingApprovalSharePageList,dataKey:"data.list",rowKey:"userId",tableKey:m,params:te}),a[40]=q,a[41]=m,a[42]=te,a[43]=se):se=a[43],a[44]!==J||a[45]!==se?(re=r.jsxs(b,{children:[J,ee,se]}),a[44]=J,a[45]=se,a[46]=re):re=a[46],re}function v(e){return r.jsx(I,{bordered:!1,color:"gold",className:"cursor-pointer",onClick:()=>{const t=m("/s/")+e;window.open(t,"_blank")},children:e})}function A(e){return r.jsx(I,{color:0===e?"blue":1===e?"green":2===e?"default":"red",children:0===e?"待审核":1===e?"正常":2===e?"停用":"被禁用"})}function M(e){return r.jsx(I,{color:e?"geekblue":"red",bordered:!1,icon:r.jsx(C,{}),children:e||"已注销"})}function P(e){return e.card.bgBackdropFilter}const N=s.memo(t=>{const i=e.c(33),{record:a,refresh:l}=t;let m;i[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],i[0]=m):m=i[0];const[c,f]=s.useState(m);let y;i[1]!==a.userId||i[2]!==l?(y=function(){d(0,f);const e=u.getState().user.token;setTimeout(()=>{p({url:n.approveSharePage,token:e,data:{user:a.userId}}).then(e=>{200===e.code&&l()}).finally(()=>{h(0,f)})},500)},i[1]=a.userId,i[2]=l,i[3]=y):y=i[3];const x=y;let _;i[4]!==a.userId||i[5]!==l?(_=function(){d(0,f);const e=u.getState().user.token;setTimeout(()=>{p({url:n.rejectSharePage,token:e,data:{user:a.userId}}).then(e=>{200===e.code&&l()}).finally(()=>{h(0,f)})},500)},i[4]=a.userId,i[5]=l,i[6]=_):_=i[6];const b=_;let w;i[7]!==a.userId||i[8]!==l?(w=function(){d(1,f);const e=u.getState().user.token;setTimeout(()=>{p({url:n.deleteSharePage,token:e,data:{user:a.userId}}).then(e=>{200===e.code&&l()}).finally(()=>{h(1,f)})},500)},i[7]=a.userId,i[8]=l,i[9]=w):w=i[9];const g=w,S=3===a.status?"是否确认恢复？":"是否确认禁用？",O=3===a.status?x:b;let I,C,F,T,v,A,M,P,N;return i[10]===Symbol.for("react.memo_cache_sentinel")?(I={width:"44px"},i[10]=I):I=i[10],i[11]!==c[0]||i[12]!==a.status?(C=c[0]?r.jsx(k,{}):3===a.status?"恢复":"禁用",i[11]=c[0],i[12]=a.status,i[13]=C):C=i[13],i[14]!==c[0]||i[15]!==C?(F=r.jsx(o,{type:"link",size:"small",disabled:c[0],style:I,children:C}),i[14]=c[0],i[15]=C,i[16]=F):F=i[16],i[17]!==S||i[18]!==O||i[19]!==F?(T=r.jsx(j,{title:S,onConfirm:O,children:F}),i[17]=S,i[18]=O,i[19]=F,i[20]=T):T=i[20],i[21]===Symbol.for("react.memo_cache_sentinel")?(v={width:"44px"},i[21]=v):v=i[21],i[22]!==c[1]?(A=c[1]?r.jsx(k,{}):"删除",i[22]=c[1],i[23]=A):A=i[23],i[24]!==c[1]||i[25]!==A?(M=r.jsx(o,{danger:!0,type:"link",size:"small",disabled:c[1],style:v,children:A}),i[24]=c[1],i[25]=A,i[26]=M):M=i[26],i[27]!==g||i[28]!==M?(P=r.jsx(j,{title:"是否确认删除？",onConfirm:g,children:M}),i[27]=g,i[28]=M,i[29]=P):P=i[29],i[30]!==P||i[31]!==T?(N=r.jsxs("div",{className:"flex flex-wrap",children:[T,P]}),i[30]=P,i[31]=T,i[32]=N):N=i[32],N});export{T as default};
