import{c as e,r as t,j as r,B as s,E as i,S as o,V as l,n,k as m,a,l as d,q as c,a2 as p}from"./requestIdleCallbackPolyfill-CEimuL3I.js";import{u as j}from"./useFresh-CXjlCB9G.js";import{r as h}from"./transformData-B04ZS_a1.js";import{M as u,R as f}from"./myTable-DifYlg4v.js";import{A as x}from"./addRecommendAppForm-K-4YO6EV.js";import{C as y}from"./contentLayout-FLn7UwnK.js";import{F as k}from"./index-CLs8asrc.js";import{I as w}from"./index-B6Nw0KJ3.js";import{R as g}from"./SearchOutlined-C3PMWV9D.js";import{R as b}from"./RedoOutlined-BRwewl8_.js";import{T as _}from"./index-DG56vLGF.js";import{R as C}from"./SortAscendingOutlined-C-ATcvwB.js";import{I as O}from"./index-Cu_iOCo3.js";import{R as S}from"./UserOutlined-Ch50gqEV.js";import"./index-CVsAKlSW.js";import"./useForm-BmxkZ3hM.js";import"./FolderOpenOutlined-DHBkEw2_.js";import"./LinkOutlined-Bi0iQjOQ.js";import"./MailOutlined-OCY9FzYP.js";import"./Overflow-CysMCa0X.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-we7dqPR7.js";import"./getAllowClear-Cn6nd0XC.js";import"./Input-BBAEOKR8.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-CF6G1lbx.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-ZPw8Urkh.js";import"./CaretDownOutlined-DcidQ0ah.js";import"./styleChecker-o73Q9rTs.js";import"./AlipayOutlined-DooH4oh8.js";import"./AlipayOutlined-tZM3mGx9.js";import"./useEffectOnce-BdmSZdB2.js";import"./useBreakpoint-BCsgDtUx.js";import"./index-BCD7T3lV.js";import"./ColorPicker-gpVSsQlx.js";import"./index-kH8S-jgo.js";import"./index-BXpSMQ4p.js";import"./CloudUploadOutlined-BcBaKmgs.js";import"./row-eYrfNDsp.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./TextArea-D12ZTmOp.js";import"./SortAscendingOutlined-8bEGxkuH.js";import"./LeftOutlined-D9Sp279J.js";function A(){const m=e.c(47),{key:a,refresh:d}=j(),[c]=k.useForm();let p;m[0]===Symbol.for("react.memo_cache_sentinel")?(p={},m[0]=p):p=m[0];const[f,_]=t.useState(p);let C,O,S,A,L,U,q,z,B,P;m[1]===Symbol.for("react.memo_cache_sentinel")?(C={title:"应用标题",key:"title",width:160,fixed:"left"},O={title:"状态",key:"status",width:120,render:T},S={title:"排序",key:"sort",width:80,render:N},A={title:"应用描述",key:"description",width:460},L={title:"图标",key:"icon",width:100,render:v},U={title:"链接",key:"link",width:120,render:I},q={title:"标签",width:120,render:R},z={title:"推荐人",key:"username",width:160,render:F},B={type:"time",title:"推荐时间",key:"createdTime",width:200},m[1]=C,m[2]=O,m[3]=S,m[4]=A,m[5]=L,m[6]=U,m[7]=q,m[8]=z,m[9]=B):(C=m[1],O=m[2],S=m[3],A=m[4],L=m[5],U=m[6],q=m[7],z=m[8],B=m[9]),m[10]!==d?(P=[C,O,S,A,L,U,q,z,B,{title:"操作",fixed:"right",width:120,render:(e,t)=>r.jsx(M,{record:t,refresh:d})}],m[10]=d,m[11]=P):P=m[11];const D=P;let E,K,Q,V,$,G,H,J,W,X,Y,Z,ee,te,re,se,ie;return m[12]!==c?(E=()=>{const e=c.getFieldsValue();e[Math.random()]=!0,_(h(e))},m[12]=c,m[13]=E):E=m[13],m[14]===Symbol.for("react.memo_cache_sentinel")?(K={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridAutoRows:"32px"},m[14]=K):K=m[14],m[15]===Symbol.for("react.memo_cache_sentinel")?(Q=r.jsx(k.Item,{name:"title",children:r.jsx(w,{placeholder:"标题"})}),m[15]=Q):Q=m[15],m[16]===Symbol.for("react.memo_cache_sentinel")?(V=r.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:K,children:[Q,r.jsx(k.Item,{name:"link",children:r.jsx(w,{placeholder:"链接"})})]}),m[16]=V):V=m[16],m[17]!==c?($=()=>{c.submit()},m[17]=c,m[18]=$):$=m[18],m[19]===Symbol.for("react.memo_cache_sentinel")?(G=r.jsx(g,{}),m[19]=G):G=m[19],m[20]!==$?(H=r.jsx(s,{type:"primary",onClick:$,icon:G,children:"查询"}),m[20]=$,m[21]=H):H=m[21],m[22]!==c?(J=()=>{c.resetFields();const e={};e[Math.random()]=!0,_(e)},m[22]=c,m[23]=J):J=m[23],m[24]===Symbol.for("react.memo_cache_sentinel")?(W=r.jsx(b,{}),m[24]=W):W=m[24],m[25]!==J?(X=r.jsx(s,{onClick:J,icon:W,children:"重置"}),m[25]=J,m[26]=X):X=m[26],m[27]!==H||m[28]!==X?(Y=r.jsxs("div",{className:"flex flex-wrap gap-3",children:[H,X]}),m[27]=H,m[28]=X,m[29]=Y):Y=m[29],m[30]!==c||m[31]!==E||m[32]!==Y?(Z=r.jsxs(k,{className:"w-full",form:c,onFinish:E,children:[V,Y]}),m[30]=c,m[31]=E,m[32]=Y,m[33]=Z):Z=m[33],m[34]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(i,{className:"my-3"}),m[34]=ee):ee=m[34],m[35]!==d?(te=r.jsx("div",{className:"mb-3",children:r.jsx(s,{type:"primary",onClick:()=>{o.show(l,{title:"新增推荐",children:r.jsx(x,{refresh:d})})},children:"新增推荐"})}),m[35]=d,m[36]=te):te=m[36],m[37]!==f?(re={searchParams:f},m[37]=f,m[38]=re):re=m[38],m[39]!==D||m[40]!==a||m[41]!==re?(se=r.jsx(u,{columns:D,getListUrl:n.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:a,params:re}),m[39]=D,m[40]=a,m[41]=re,m[42]=se):se=m[42],m[43]!==Z||m[44]!==te||m[45]!==se?(ie=r.jsxs(y,{children:[Z,ee,te,se]}),m[43]=Z,m[44]=te,m[45]=se,m[46]=ie):ie=m[46],ie}function F(e){return r.jsx(_,{color:e?"geekblue":"red",bordered:!1,icon:r.jsx(S,{}),children:e||"已注销"})}function R(e,t){return r.jsx(_,{color:t.tagColor,children:t.tagText||"-"})}function I(e){return r.jsx(s,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function v(e,t){return e?r.jsx(O,{src:e,width:"auto",height:32,className:"p-1 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}function N(e){return r.jsx(_,{color:"gold",icon:r.jsx(C,{}),children:e||"-"})}function T(e){return r.jsx(_,{color:0===e?"blue":1===e?"green":"red",children:0===e?"待审核":1===e?"正常":"被驳回"})}const M=t.memo(i=>{const j=e.c(26),{record:h,refresh:u}=i;let x;j[0]===Symbol.for("react.memo_cache_sentinel")?(x=[],j[0]=x):x=j[0];const[y,k]=t.useState(x);let w;j[1]!==h||j[2]!==u?(w=function(){m(1,k);const e=a.getState().user.token;setTimeout(()=>{d({url:n.deleteRecommendApp,token:e,data:{id:h.id}}).then(e=>{200===e.code&&u()}).finally(()=>{c(1,k)})},500)},j[1]=h,j[2]=u,j[3]=w):w=j[3];const g=w;let b,_,C,O,S,A,F,R,I;return j[4]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},j[4]=b):b=j[4],j[5]!==h||j[6]!==u?(_=()=>{o.show(l,{title:"编辑推荐",children:r.jsx(L,{editItem:h,refresh:u})})},j[5]=h,j[6]=u,j[7]=_):_=j[7],j[8]!==y[0]?(C=y[0]?r.jsx(f,{}):"编辑",j[8]=y[0],j[9]=C):C=j[9],j[10]!==y[0]||j[11]!==_||j[12]!==C?(O=r.jsx(s,{type:"link",size:"small",disabled:y[0],style:b,onClick:_,children:C}),j[10]=y[0],j[11]=_,j[12]=C,j[13]=O):O=j[13],j[14]===Symbol.for("react.memo_cache_sentinel")?(S={width:"44px"},j[14]=S):S=j[14],j[15]!==y[1]?(A=y[1]?r.jsx(f,{}):"删除",j[15]=y[1],j[16]=A):A=j[16],j[17]!==y[1]||j[18]!==A?(F=r.jsx(s,{danger:!0,type:"link",size:"small",disabled:y[1],style:S,children:A}),j[17]=y[1],j[18]=A,j[19]=F):F=j[19],j[20]!==g||j[21]!==F?(R=r.jsx(p,{title:"是否确认删除该推荐？",onConfirm:g,children:F}),j[20]=g,j[21]=F,j[22]=R):R=j[22],j[23]!==O||j[24]!==R?(I=r.jsxs("div",{className:"flex flex-wrap",children:[O,R]}),j[23]=O,j[24]=R,j[25]=I):I=j[25],I}),L=t=>{const s=e.c(3),{editItem:i,refresh:o}=t;let l;return s[0]!==i||s[1]!==o?(l=r.jsx(r.Fragment,{children:r.jsx(x,{editItem:i,refresh:o,type:"edit"})}),s[0]=i,s[1]=o,s[2]=l):l=s[2],l};export{A as default};
