const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/shareSay-7qjo2Hy3.js","assets/main-DoQmQ3rA.js","assets/main-BFqYArpd.css"])))=>i.map(i=>d[i]);
import{c as e,an as t,k as s,F as r,r as a,j as n,w as l,B as o,ap as i,au as c,ae as d,av as m,aw as u,a0 as h,E as p,N as f,ao as y,q as x,ag as j,C as _,e as k,D as b,H as g,am as w}from"./main-DoQmQ3rA.js";import{r as S}from"./transformData-agfQo1kN.js";import{M as I,R as C}from"./myTable-DsQD4sJ4.js";import{C as T}from"./contentLayout-DmA4VjSS.js";import"./MoneyCollectOutlined-HxXn-Zo3.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-XWb8_7CI.js";import"./AlipayOutlined-DpprqmEa.js";import"./AlipayOutlined-tZM3mGx9.js";const v=d.lazy(()=>j(()=>import("./shareSay-7qjo2Hy3.js"),__vite__mapDeps([0,1,2])));function N(){const d=e.c(47),{key:f,refresh:y}=t(),x=s(P),[j]=r.useForm();let _;d[0]===Symbol.for("react.memo_cache_sentinel")?(_={},d[0]=_):_=d[0];const[k,b]=a.useState(_);let g,w,C,N,z,L,D,E,K,R;d[1]===Symbol.for("react.memo_cache_sentinel")?(g={title:"用户名",key:"username",width:160,fixed:"left",render:O},w={title:"状态",key:"status",width:80,render:F},C={title:"分享码",key:"path",width:160,render:A},N={title:"分享页标题",key:"title",width:230},z={title:"分享页描述",key:"description",width:300},d[1]=g,d[2]=w,d[3]=C,d[4]=N,d[5]=z):(g=d[1],w=d[2],C=d[3],N=d[4],z=d[5]),d[6]!==x?(L={title:"分享有话",key:"shareSay",width:160,render:e=>e?n.jsx(o,{size:"small",type:"link",onClick:()=>{i.show(c,{title:"分享有话",backgroundOpacity:x?.92:void 0,children:n.jsx(a.Suspense,{children:n.jsx(v,{content:e||"暂未设置分享有话的内容"})}),placement:"right"})},children:"查看"}):"-"},d[6]=x,d[7]=L):L=d[7],d[8]===Symbol.for("react.memo_cache_sentinel")?(D={type:"time",title:"创建时间",key:"createdTime",width:200},E={type:"time",title:"更新时间",key:"updatedTime",width:200},d[8]=D,d[9]=E):(D=d[8],E=d[9]),d[10]!==y?(K={title:"操作",fixed:"right",width:120,render:(e,t)=>n.jsx(M,{record:t,refresh:y})},d[10]=y,d[11]=K):K=d[11],d[12]!==L||d[13]!==K?(R=[g,w,C,N,z,L,D,E,K],d[12]=L,d[13]=K,d[14]=R):R=d[14];const B=R;let V,q,H,U,X,Z,G,J,Q,W,Y,$,ee,te,se,re;return d[15]!==j?(V=()=>{const e=j.getFieldsValue();e[Math.random()]=!0,b(S(e))},d[15]=j,d[16]=V):V=d[16],d[17]===Symbol.for("react.memo_cache_sentinel")?(q={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridAutoRows:"32px"},d[17]=q):q=d[17],d[18]===Symbol.for("react.memo_cache_sentinel")?(H=n.jsx(r.Item,{name:"username",children:n.jsx(l,{placeholder:"用户名"})}),d[18]=H):H=d[18],d[19]===Symbol.for("react.memo_cache_sentinel")?(U=n.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:q,children:[H,n.jsx(r.Item,{name:"path",children:n.jsx(l,{placeholder:"分享码"})})]}),d[19]=U):U=d[19],d[20]!==j?(X=()=>{j.submit()},d[20]=j,d[21]=X):X=d[21],d[22]===Symbol.for("react.memo_cache_sentinel")?(Z=n.jsx(m,{}),d[22]=Z):Z=d[22],d[23]!==X?(G=n.jsx(o,{type:"primary",onClick:X,icon:Z,children:"查询"}),d[23]=X,d[24]=G):G=d[24],d[25]!==j?(J=()=>{j.resetFields();const e={};e[Math.random()]=!0,b(e)},d[25]=j,d[26]=J):J=d[26],d[27]===Symbol.for("react.memo_cache_sentinel")?(Q=n.jsx(u,{}),d[27]=Q):Q=d[27],d[28]!==J?(W=n.jsx(o,{onClick:J,icon:Q,children:"重置"}),d[28]=J,d[29]=W):W=d[29],d[30]!==G||d[31]!==W?(Y=n.jsxs("div",{className:"flex flex-wrap gap-3",children:[G,W]}),d[30]=G,d[31]=W,d[32]=Y):Y=d[32],d[33]!==j||d[34]!==V||d[35]!==Y?($=n.jsxs(r,{className:"w-full",form:j,onFinish:V,children:[U,Y]}),d[33]=j,d[34]=V,d[35]=Y,d[36]=$):$=d[36],d[37]===Symbol.for("react.memo_cache_sentinel")?(ee=n.jsx(h,{className:"my-3"}),d[37]=ee):ee=d[37],d[38]!==k?(te={searchParams:k},d[38]=k,d[39]=te):te=d[39],d[40]!==B||d[41]!==f||d[42]!==te?(se=n.jsx(I,{columns:B,getListUrl:p.getAwaitingApprovalSharePageList,dataKey:"data.list",rowKey:"userId",tableKey:f,params:te}),d[40]=B,d[41]=f,d[42]=te,d[43]=se):se=d[43],d[44]!==$||d[45]!==se?(re=n.jsxs(T,{children:[$,ee,se]}),d[44]=$,d[45]=se,d[46]=re):re=d[46],re}function A(e){return n.jsx(f,{bordered:!1,color:"gold",className:"cursor-pointer",onClick:()=>{const t=x("/s/")+e;window.open(t,"_blank")},children:e})}function F(e){return n.jsx(f,{color:0===e?"blue":1===e?"green":2===e?"default":"red",children:0===e?"待审核":1===e?"正常":2===e?"停用":"被禁用"})}function O(e){return n.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:n.jsx(y,{}),children:e||"已注销"})}function P(e){return e.card.bgBackdropFilter}const M=a.memo(t=>{const s=e.c(33),{record:r,refresh:l}=t;let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],s[0]=i):i=s[0];const[c,d]=a.useState(i);let m;s[1]!==r.userId||s[2]!==l?(m=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{b({url:p.approveSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e.code&&l()}).finally(()=>{g(0,d)})},500)},s[1]=r.userId,s[2]=l,s[3]=m):m=s[3];const u=m;let h;s[4]!==r.userId||s[5]!==l?(h=function(){_(0,d);const e=k.getState().user.token;setTimeout(()=>{b({url:p.rejectSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e.code&&l()}).finally(()=>{g(0,d)})},500)},s[4]=r.userId,s[5]=l,s[6]=h):h=s[6];const f=h;let y;s[7]!==r.userId||s[8]!==l?(y=function(){_(1,d);const e=k.getState().user.token;setTimeout(()=>{b({url:p.deleteSharePage,token:e,data:{user:r.userId}}).then(e=>{200===e.code&&l()}).finally(()=>{g(1,d)})},500)},s[7]=r.userId,s[8]=l,s[9]=y):y=s[9];const x=y,j=3===r.status?"是否确认恢复？":"是否确认禁用？",S=3===r.status?u:f;let I,T,v,N,A,F,O,P,M;return s[10]===Symbol.for("react.memo_cache_sentinel")?(I={width:"44px"},s[10]=I):I=s[10],s[11]!==c[0]||s[12]!==r.status?(T=c[0]?n.jsx(C,{}):3===r.status?"恢复":"禁用",s[11]=c[0],s[12]=r.status,s[13]=T):T=s[13],s[14]!==c[0]||s[15]!==T?(v=n.jsx(o,{type:"link",size:"small",disabled:c[0],style:I,children:T}),s[14]=c[0],s[15]=T,s[16]=v):v=s[16],s[17]!==j||s[18]!==S||s[19]!==v?(N=n.jsx(w,{title:j,onConfirm:S,children:v}),s[17]=j,s[18]=S,s[19]=v,s[20]=N):N=s[20],s[21]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},s[21]=A):A=s[21],s[22]!==c[1]?(F=c[1]?n.jsx(C,{}):"删除",s[22]=c[1],s[23]=F):F=s[23],s[24]!==c[1]||s[25]!==F?(O=n.jsx(o,{danger:!0,type:"link",size:"small",disabled:c[1],style:A,children:F}),s[24]=c[1],s[25]=F,s[26]=O):O=s[26],s[27]!==x||s[28]!==O?(P=n.jsx(w,{title:"是否确认删除？",onConfirm:x,children:O}),s[27]=x,s[28]=O,s[29]=P):P=s[29],s[30]!==P||s[31]!==N?(M=n.jsxs("div",{className:"flex flex-wrap",children:[N,P]}),s[30]=P,s[31]=N,s[32]=M):M=s[32],M});export{N as default};
