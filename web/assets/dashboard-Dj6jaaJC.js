import{c as e,r as t,W as o,j as l,aL as c,a as r,n,aM as a,B as s,aN as i,t as m,a8 as d,aO as x}from"./requestIdleCallbackPolyfill-CRtcYtqz.js";import{G as h}from"./iconBase-DTCtk8KC.js";import{H as u,a as f}from"./index-BWhUmfCX.js";import{R as g,C as p}from"./row-pVBpgFkh.js";import{R as b}from"./ExportOutlined-8qrQgjtC.js";import{T as y}from"./index-BgMRx6qH.js";import"./useBreakpoint-E2sLeglb.js";import"./mediaQueryUtil-DPPPwwPM.js";function j(e){return h({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"},child:[]}]})(e)}function _(e){return h({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}const S=t=>{const o=e.c(21),{label:c,value:r,icon:n,color:a,loading:s}=t,{token:d}=m.useToken();let x,h;o[0]!==d.colorBgContainer||o[1]!==d.colorBorderSecondary?(x={background:d.colorBgContainer,borderColor:d.colorBorderSecondary},o[0]=d.colorBgContainer,o[1]=d.colorBorderSecondary,o[2]=x):x=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(h={rows:2},o[3]=h):h=o[3];const u=`p-3 rounded-full ${a} text-white`;let f,g;o[4]!==n||o[5]!==u?(f=l.jsx("div",{className:u,children:n}),o[4]=n,o[5]=u,o[6]=f):f=o[6],o[7]!==c?(g=l.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:c}),o[7]=c,o[8]=g):g=o[8];const p="number"==typeof r?r:r??0;let b,y,j,_;return o[9]!==p?(b=l.jsx("p",{className:"text-xl font-bold h-7",children:p}),o[9]=p,o[10]=b):b=o[10],o[11]!==g||o[12]!==b?(y=l.jsxs("div",{className:"ml-4 flex flex-col gap-1",children:[g,b]}),o[11]=g,o[12]=b,o[13]=y):y=o[13],o[14]!==s||o[15]!==f||o[16]!==y?(j=l.jsxs(i,{title:!1,className:"h-[52px]",paragraph:h,loading:s,children:[f,y]}),o[14]=s,o[15]=f,o[16]=y,o[17]=j):j=o[17],o[18]!==x||o[19]!==j?(_=l.jsx("div",{className:"rounded-lg border p-6 flex items-center",style:x,children:j}),o[18]=x,o[19]=j,o[20]=_):_=o[20],_},k=t=>{const o=e.c(33),{item:c}=t,{token:r}=m.useToken();let n,a,s,i,d,h,u,f,g,p,b,j,_;return o[0]!==r.colorBgContainer||o[1]!==r.colorBorderSecondary?(n={height:"100px",background:r.colorBgContainer,borderColor:r.colorBorderSecondary},o[0]=r.colorBgContainer,o[1]=r.colorBorderSecondary,o[2]=n):n=o[2],o[3]!==c.link?(a=()=>{window.open(c.link,"_blank")},o[3]=c.link,o[4]=a):a=o[4],o[5]!==c.iconBackground?(s={background:c.iconBackground},o[5]=c.iconBackground,o[6]=s):s=o[6],o[7]!==c.icon?(i=x(c.icon),o[7]=c.icon,o[8]=i):i=o[8],o[9]===Symbol.for("react.memo_cache_sentinel")?(d={width:"100%"},o[9]=d):d=o[9],o[10]!==i?(h=l.jsx("img",{src:i,style:d}),o[10]=i,o[11]=h):h=o[11],o[12]!==s||o[13]!==h?(u=l.jsx("div",{className:"w-16 h-16 ml-3 rounded-2xl overflow-visible flex-center",style:s,children:h}),o[12]=s,o[13]=h,o[14]=u):u=o[14],o[15]!==c.tagColor||o[16]!==c.tagText?(f=c?.tagText&&l.jsx(y,{color:c?.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.8},children:c?.tagText}),o[15]=c.tagColor,o[16]=c.tagText,o[17]=f):f=o[17],o[18]!==c.title?(g=l.jsx("p",{className:"text-base font-semibold line-clamp-1",children:c.title}),o[18]=c.title,o[19]=g):g=o[19],o[20]!==f||o[21]!==g?(p=l.jsxs("div",{className:"text-sm mb-[4px] flex items-center",children:[f,g]}),o[20]=f,o[21]=g,o[22]=p):p=o[22],o[23]!==c.description?(b=l.jsx("p",{className:"text-gray-500 line-clamp-2 font-medium",children:c.description}),o[23]=c.description,o[24]=b):b=o[24],o[25]!==b||o[26]!==p?(j=l.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[p,b]}),o[25]=b,o[26]=p,o[27]=j):j=o[27],o[28]!==n||o[29]!==a||o[30]!==j||o[31]!==u?(_=l.jsxs("div",{style:n,className:"cursor-pointer rounded-lg p-3 border flex items-center gap-x-6",onClick:a,children:[u,j]}),o[28]=n,o[29]=a,o[30]=j,o[31]=u,o[32]=_):_=o[32],_};function w(){const m=e.c(36),[d,x]=t.useState(null),[h,y]=t.useState(!0),[k,w]=t.useState(null),[N,z]=t.useState(!0);let T;m[0]===Symbol.for("react.memo_cache_sentinel")?(T=[{icon:"https://www.rainyun.com/img/logo.d193755d.png",link:c,title:"高性价比云服务器",description:"雨云成立于2018年，是具有自主知识产权的国产云计算服务提供商。雨云为广大用户提供简单易用、便宜实惠、可信赖的云产品。"}],m[0]=T):T=m[0];const M=T;let A;m[1]===Symbol.for("react.memo_cache_sentinel")?(A=function(){const e=r.getState().user.token;o({url:n.getDashboardStats,token:e}).then(e=>{x(e.data),y(!1)}).catch(e=>{y(!1)})},m[1]=A):A=m[1];const L=A;let H;m[2]===Symbol.for("react.memo_cache_sentinel")?(H=[],m[2]=H):H=m[2],t.useLayoutEffect(()=>{o({url:J+"api/recommendApp",catchMsg:!1}).then(e=>{e.data&&w(e.data)}).finally(()=>{z(!1)}),L()},H);const W=d?.total_users;let E,O;m[3]===Symbol.for("react.memo_cache_sentinel")?(E=l.jsx(u,{size:24}),m[3]=E):E=m[3],m[4]!==W?(O={label:"总用户数",value:W,icon:E,color:"bg-blue-500"},m[4]=W,m[5]=O):O=m[5];const R=d?.new_users_today;let q,D;m[6]===Symbol.for("react.memo_cache_sentinel")?(q=l.jsx(f,{size:24}),m[6]=q):q=m[6],m[7]!==R?(D={label:"今日新增用户",value:R,icon:q,color:"bg-green-500"},m[7]=R,m[8]=D):D=m[8];const G=d?.total_websites;let I,P;m[9]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(j,{size:24}),m[9]=I):I=m[9],m[10]!==G?(P={label:"网站总数",value:G,icon:I,color:"bg-purple-500"},m[10]=G,m[11]=P):P=m[11];const Q=d?.total_user_shares;let U,Z,$;m[12]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsx(_,{size:24}),m[12]=U):U=m[12],m[13]!==Q?(Z={label:"用户分享页",value:Q,icon:U,color:"bg-yellow-500"},m[13]=Q,m[14]=Z):Z=m[14],m[15]!==P||m[16]!==Z||m[17]!==O||m[18]!==D?($=[O,D,P,Z],m[15]=P,m[16]=Z,m[17]=O,m[18]=D,m[19]=$):$=m[19];const F=$,J="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";let K;m[20]===Symbol.for("react.memo_cache_sentinel")?(K=function(){const e=r.getState().user.token;a({url:n.exportConfigToml,token:e,responseType:"blob"}).then(C)},m[20]=K):K=m[20];const V=K;let X,Y,ee,te,oe;m[21]===Symbol.for("react.memo_cache_sentinel")?(X=l.jsx("h1",{className:"text-lg font-bold",children:"数据概览"}),m[21]=X):X=m[21],m[22]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsxs("div",{className:"flex mb-3 ml-1 justify-between items-center",children:[X,l.jsx(s,{icon:l.jsx(b,{}),onClick:V,children:"导出配置文件"})]}),m[22]=Y):Y=m[22],m[23]===Symbol.for("react.memo_cache_sentinel")?(ee=[12,12],m[23]=ee):ee=m[23],m[24]!==h||m[25]!==F?(te=l.jsx(g,{gutter:ee,children:F.map((e,t)=>l.jsx(p,{xs:{flex:"100%"},md:{flex:"50%"},lg:{flex:"50%"},xl:{flex:"25%"},children:l.jsx(S,{...e,loading:h})},t))}),m[24]=h,m[25]=F,m[26]=te):te=m[26],m[27]===Symbol.for("react.memo_cache_sentinel")?(oe=l.jsx("h1",{className:"text-lg font-bold my-3 ml-1",children:"🔥 每日宝藏"}),m[27]=oe):oe=m[27];const le=N||h;let ce,re,ne;return m[28]!==k?(ce=k?.length>0?k?.map(B):M.map(v),m[28]=k,m[29]=ce):ce=m[29],m[30]!==le||m[31]!==ce?(re=l.jsx("div",{className:"flex flex-col w-full gap-3",children:l.jsx(i,{loading:le,className:"p-3",children:ce})}),m[30]=le,m[31]=ce,m[32]=re):re=m[32],m[33]!==te||m[34]!==re?(ne=l.jsxs("main",{className:"p-3 overflow-scroll",children:[Y,te,oe,re]}),m[33]=te,m[34]=re,m[35]=ne):ne=m[35],ne}function v(e,t){return l.jsx(k,{item:e},t)}function B(e,t){return l.jsx(k,{item:e},t)}function C(e){d.saveAs(e.data,"config.toml")}export{w as default};
