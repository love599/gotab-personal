import{S as e,bY as a,cF as o,h as s,r as l,bb as r,b6 as t,j as d,cJ as n,a4 as c}from"./requestIdleCallbackPolyfill-DoU9FIwA.js";const i=e.create(e=>{const{title:i,children:b,footer:h=null,width:g,bodyStyle:m,contentStyle:p,style:k,centered:u=!0,backgroundOpacity:y,height:f,contentPaddingY:w=20,contentPaddingX:v=20,transition:x=!0,maskBlur:$=!0,overflowX:C="hidden",showMask:j=!0,showCloseIcon:I=!0,maskToClose:M=!0,onClose:O,destroyOnClose:S=!0,className:N="",adjustHeight:H=!0,keyboard:P=!0}=e,T=a(),B=o(),E=s(e=>e.wallpaperTheme.themeMode),F=s(e=>e.card.bgBackdropFilter);l.useEffect(()=>()=>{T.hide()},[B.pathname,B.search]);const X=r("(prefers-color-scheme: dark)"),Y=l.useMemo(()=>({body:{overflow:"hidden"===C?"hidden scroll":"visible scroll",height:f,maxHeight:`calc(100vh - ${32+(i?4:2)*w}px)`,...m},content:{borderRadius:16,overflow:"hidden",padding:`${w}px ${v}px`,background:"auto"===E?X?`rgba(25,25,25,${F&&y||1})`:F?`rgba(255,255,255,${y||1})`:y?"rgb(235, 235, 235)":"rgb(255,255,255)":"light"===E?F?`rgba(255,255,255,${y||1})`:y?"rgb(235, 235, 235)":"rgb(255,255,255)":`rgba(25,25,25,${F&&y||1})`,...p}}),[C,f,i,w,m,v,E,X,y,p,F]),q=l.useMemo(()=>({maxWidth:"calc(100vw - 32px)",overflow:"visible",margin:u?16:void 0,...k}),[u,k]);return t("Escape",()=>{"1"!==localStorage.getItem("globalSearchIsOpen")&&T.hide()}),d.jsx(n,{width:g,title:i,open:T.visible,onOk:T.hide,onCancel:()=>{T.hide(),O&&O()},keyboard:P,transitionName:x?"ant-zoom-big":"",maskClosable:M,mask:j,closable:I,closeIcon:I&&d.jsx(c,{}),classNames:{mask:$&&F?"backdrop-blur-sm":""},className:`${H?"":"new-ant-modal"} ${N}`,styles:Y,style:q,centered:u,footer:h,destroyOnHidden:S,focusTriggerAfterClose:!1,children:b},"my-modal")});export{i as M};
