import{r as e,I as t,c as s,j as i,a as r,l as o,B as l,a2 as n,X as a,E as d,n as c,k as m,q as u}from"./requestIdleCallbackPolyfill-CRtcYtqz.js";import{u as f}from"./useFresh-y1lmOc8g.js";import{M as j,R as p}from"./myTable-Dl2QuU-Q.js";import{C as x}from"./contentLayout-BpLnk-YD.js";import{R as h}from"./ReloadOutlined-_IaMhJD3.js";import{C as y}from"./ClearOutlined-CT7898ko.js";import{R as k}from"./QuestionCircleOutlined-BsueyuX1.js";import{T as O}from"./index-BgMRx6qH.js";import{R as _}from"./UserOutlined-B1UxF3gI.js";import"./index-DzNwoECr.js";import"./useForm-Au5dOVxA.js";import"./index-BIBYr-gg.js";import"./LeftOutlined-D9Sp279J.js";import"./FolderOpenOutlined-ComJ5RAY.js";import"./LinkOutlined-DopLHcZx.js";import"./MailOutlined-jCQFQ878.js";import"./Overflow-Dw8Kex4x.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-CF37AyZG.js";import"./getAllowClear-rD1UM-lP.js";import"./Input-DELR_BSE.js";import"./transformData-CHYShsQS.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-CT8yhX_S.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-DQcu5FOC.js";import"./CaretDownOutlined-DcidQ0ah.js";import"./styleChecker-BRhAwd4B.js";import"./AlipayOutlined-DLlsLZ5r.js";import"./AlipayOutlined-tZM3mGx9.js";import"./useEffectOnce-B3Wa1Mlq.js";import"./useBreakpoint-E2sLeglb.js";import"./index-bQRXjpSB.js";import"./ReloadOutlined-B00s2TmV.js";import"./QuestionCircleOutlined-DSm95oJP.js";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},b.apply(this,arguments)}const g=(s,i)=>e.createElement(t,b({},s,{ref:i,icon:y})),w=e.forwardRef(g);function C(){const t=s.c(27),{key:m,refresh:u}=f(),[p,y]=e.useState(!1);let O,_,b,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(O={title:"用户名",key:"username",width:160,fixed:"left",render:D},_={title:"状态",key:"deleted_at",width:80,render:S},b={type:"time",title:"更新时间",key:"updated_at",width:200},t[0]=O,t[1]=_,t[2]=b):(O=t[0],_=t[1],b=t[2]),t[3]!==u?(g=[O,_,b,{title:"操作",fixed:"right",width:120,render:(e,t)=>i.jsx(v,{record:t,refresh:u})}],t[3]=u,t[4]=g):g=t[4];const C=g;let R;t[5]!==u?(R=function(){y(!0);const e=r.getState().user.token;o({url:c.clearDefaultData,token:e}).then(e=>{200===e.code&&u()}).finally(()=>{y(!1)})},t[5]=u,t[6]=R):R=t[6];const L=R;let N,T,F,M,q,A,E,I,Q,U;return t[7]===Symbol.for("react.memo_cache_sentinel")?(N=i.jsx(h,{}),t[7]=N):N=t[7],t[8]!==u?(T=i.jsx(l,{type:"primary",icon:N,onClick:()=>{u()},children:"刷新列表"}),t[8]=u,t[9]=T):T=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(F=i.jsx(w,{}),t[10]=F):F=t[10],t[11]!==p?(M=i.jsx(l,{variant:"filled",color:"danger",icon:F,loading:p,children:"清理数据（只保留 10 条）"}),t[11]=p,t[12]=M):M=t[12],t[13]!==L||t[14]!==M?(q=i.jsx(n,{title:"是否确认清理？",onConfirm:L,children:M}),t[13]=L,t[14]=M,t[15]=q):q=t[15],t[16]!==T||t[17]!==q?(A=i.jsxs("div",{className:"flex gap-3 flex-wrap",children:[T,q]}),t[16]=T,t[17]=q,t[18]=A):A=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(E=i.jsx(a,{type:"warning",description:i.jsxs(i.Fragment,{children:[i.jsx(k,{className:"mr-1"}),"默认数据为最新的启用数据，且数据会随着管理员在主页设置默认主页数据而更新！管理员保存新的默认数据后，所有先前启用数据均会禁用！"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),I=i.jsx(d,{className:"my-3"}),t[19]=E,t[20]=I):(E=t[19],I=t[20]),t[21]!==C||t[22]!==m?(Q=i.jsx(j,{columns:C,getListUrl:c.getDefaultDataList,dataKey:"data.list",tableKey:m}),t[21]=C,t[22]=m,t[23]=Q):Q=t[23],t[24]!==A||t[25]!==Q?(U=i.jsxs(x,{children:[A,E,I,Q]}),t[24]=A,t[25]=Q,t[26]=U):U=t[26],U}function S(e){return i.jsx(O,{color:e?"red":"green",children:e?"禁用":"启用"})}function D(e){return i.jsx(O,{color:e?"geekblue":"red",bordered:!1,icon:i.jsx(_,{}),children:e||"已注销"})}const v=e.memo(t=>{const a=s.c(33),{record:d,refresh:f}=t;let j;a[0]===Symbol.for("react.memo_cache_sentinel")?(j=[],a[0]=j):j=a[0];const[x,h]=e.useState(j);let y;a[1]!==d.id||a[2]!==f?(y=function(){m(0,h);const e=r.getState().user.token;setTimeout(()=>{o({url:c.enableDefaultData,token:e,data:{id:d.id}}).then(e=>{200===e.code&&f()}).finally(()=>{u(0,h)})},500)},a[1]=d.id,a[2]=f,a[3]=y):y=a[3];const k=y;let O;a[4]!==d.id||a[5]!==f?(O=function(){m(0,h);const e=r.getState().user.token;setTimeout(()=>{o({url:c.disableDefaultData,token:e,data:{id:d.id}}).then(e=>{200===e.code&&f()}).finally(()=>{u(0,h)})},500)},a[4]=d.id,a[5]=f,a[6]=O):O=a[6];const _=O;let b;a[7]!==d.id||a[8]!==f?(b=function(){m(1,h);const e=r.getState().user.token;setTimeout(()=>{o({url:c.deleteDefaultData,token:e,data:{id:d.id}}).then(e=>{200===e.code&&f()}).finally(()=>{u(1,h)})},500)},a[7]=d.id,a[8]=f,a[9]=b):b=a[9];const g=b,w=d.deleted_at?"是否确认恢复？":"是否确认禁用？",C=d.deleted_at?k:_;let S,D,v,R,L,N,T,F,M;return a[10]===Symbol.for("react.memo_cache_sentinel")?(S={width:"44px"},a[10]=S):S=a[10],a[11]!==x[0]||a[12]!==d.deleted_at?(D=x[0]?i.jsx(p,{}):d.deleted_at?"恢复":"禁用",a[11]=x[0],a[12]=d.deleted_at,a[13]=D):D=a[13],a[14]!==x[0]||a[15]!==D?(v=i.jsx(l,{type:"link",size:"small",disabled:x[0],style:S,children:D}),a[14]=x[0],a[15]=D,a[16]=v):v=a[16],a[17]!==w||a[18]!==C||a[19]!==v?(R=i.jsx(n,{title:w,onConfirm:C,children:v}),a[17]=w,a[18]=C,a[19]=v,a[20]=R):R=a[20],a[21]===Symbol.for("react.memo_cache_sentinel")?(L={width:"44px"},a[21]=L):L=a[21],a[22]!==x[1]?(N=x[1]?i.jsx(p,{}):"删除",a[22]=x[1],a[23]=N):N=a[23],a[24]!==x[1]||a[25]!==N?(T=i.jsx(l,{danger:!0,type:"link",size:"small",disabled:x[1],style:L,children:N}),a[24]=x[1],a[25]=N,a[26]=T):T=a[26],a[27]!==g||a[28]!==T?(F=i.jsx(n,{title:"是否确认删除？",onConfirm:g,children:T}),a[27]=g,a[28]=T,a[29]=F):F=a[29],a[30]!==F||a[31]!==R?(M=i.jsxs("div",{className:"flex flex-wrap",children:[R,F]}),a[30]=F,a[31]=R,a[32]=M):M=a[32],M});export{C as default};
