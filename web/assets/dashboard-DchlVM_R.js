import{bT as e,c as t,r as o,ab as l,j as c,bU as n,bV as r,bW as a,e as s,bX as i,E as m,B as d,bY as x,bZ as h,t as g,aJ as u,b_ as b,N as f}from"./main-CHp92QlO.js";import{H as p,a as y}from"./index-B_Ls1bXq.js";function _(t){return e({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"},child:[]}]})(t)}function j(t){return e({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}const S=e=>{const o=t.c(21),{label:l,value:n,icon:r,color:a,loading:s}=e,{token:i}=g.useToken();let m,d;o[0]!==i.colorBgContainer||o[1]!==i.colorBorderSecondary?(m={background:i.colorBgContainer,borderColor:i.colorBorderSecondary},o[0]=i.colorBgContainer,o[1]=i.colorBorderSecondary,o[2]=m):m=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(d={rows:2},o[3]=d):d=o[3];const x=`p-3 rounded-full ${a} text-white`;let u,b;o[4]!==r||o[5]!==x?(u=c.jsx("div",{className:x,children:r}),o[4]=r,o[5]=x,o[6]=u):u=o[6],o[7]!==l?(b=c.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:l}),o[7]=l,o[8]=b):b=o[8];const f="number"==typeof n?n:n??0;let p,y,_,j;return o[9]!==f?(p=c.jsx("p",{className:"text-xl font-bold h-7",children:f}),o[9]=f,o[10]=p):p=o[10],o[11]!==b||o[12]!==p?(y=c.jsxs("div",{className:"ml-4 flex flex-col gap-1",children:[b,p]}),o[11]=b,o[12]=p,o[13]=y):y=o[13],o[14]!==s||o[15]!==u||o[16]!==y?(_=c.jsxs(h,{title:!1,className:"h-[52px]",paragraph:d,loading:s,children:[u,y]}),o[14]=s,o[15]=u,o[16]=y,o[17]=_):_=o[17],o[18]!==m||o[19]!==_?(j=c.jsx("div",{className:"rounded-lg border p-6 flex items-center",style:m,children:_}),o[18]=m,o[19]=_,o[20]=j):j=o[20],j},k=e=>{const o=t.c(33),{item:l}=e,{token:n}=g.useToken();let r,a,s,i,m,d,x,h,u,p,y,_,j;return o[0]!==n.colorBgContainer||o[1]!==n.colorBorderSecondary?(r={height:"100px",background:n.colorBgContainer,borderColor:n.colorBorderSecondary},o[0]=n.colorBgContainer,o[1]=n.colorBorderSecondary,o[2]=r):r=o[2],o[3]!==l.link?(a=()=>{window.open(l.link,"_blank")},o[3]=l.link,o[4]=a):a=o[4],o[5]!==l.iconBackground?(s={background:l.iconBackground},o[5]=l.iconBackground,o[6]=s):s=o[6],o[7]!==l.icon?(i=b(l.icon),o[7]=l.icon,o[8]=i):i=o[8],o[9]===Symbol.for("react.memo_cache_sentinel")?(m={width:"100%"},o[9]=m):m=o[9],o[10]!==i?(d=c.jsx("img",{src:i,style:m,onError:C}),o[10]=i,o[11]=d):d=o[11],o[12]!==s||o[13]!==d?(x=c.jsx("div",{className:"w-16 h-16 ml-3 rounded-2xl overflow-visible flex-center",style:s,children:d}),o[12]=s,o[13]=d,o[14]=x):x=o[14],o[15]!==l.tagColor||o[16]!==l.tagText?(h=l?.tagText&&c.jsx(f,{color:l?.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.8},children:l?.tagText}),o[15]=l.tagColor,o[16]=l.tagText,o[17]=h):h=o[17],o[18]!==l.title?(u=c.jsx("p",{className:"text-base font-semibold line-clamp-1",children:l.title}),o[18]=l.title,o[19]=u):u=o[19],o[20]!==h||o[21]!==u?(p=c.jsxs("div",{className:"text-sm mb-[4px] flex items-center",children:[h,u]}),o[20]=h,o[21]=u,o[22]=p):p=o[22],o[23]!==l.description?(y=c.jsx("p",{className:"text-gray-500 line-clamp-2 font-medium",children:l.description}),o[23]=l.description,o[24]=y):y=o[24],o[25]!==y||o[26]!==p?(_=c.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[p,y]}),o[25]=y,o[26]=p,o[27]=_):_=o[27],o[28]!==r||o[29]!==a||o[30]!==_||o[31]!==x?(j=c.jsxs("div",{style:r,className:"cursor-pointer rounded-lg p-3 border flex items-center gap-x-6",onClick:a,children:[x,_]}),o[28]=r,o[29]=a,o[30]=_,o[31]=x,o[32]=j):j=o[32],j};function v(){const e=t.c(36),[g,u]=o.useState(null),[b,f]=o.useState(!0),[k,v]=o.useState(null),[C,z]=o.useState(!0);let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=[{icon:"https://www.rainyun.com/img/logo.d193755d.png",link:a,title:"高性价比云服务器",description:"雨云成立于2018年，是具有自主知识产权的国产云计算服务提供商。雨云为广大用户提供简单易用、便宜实惠、可信赖的云产品。"}],e[0]=T):T=e[0];const A=T;let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M=function(){const e=s.getState().user.token;l({url:m.getDashboardStats,token:e}).then(e=>{u(e.data),f(!1)}).catch(e=>{f(!1)})},e[1]=M):M=e[1];const E=M;let H;e[2]===Symbol.for("react.memo_cache_sentinel")?(H=[],e[2]=H):H=e[2],o.useLayoutEffect(()=>{l({url:K+"api/recommendApp",catchMsg:!1}).then(e=>{e.data&&v(e.data)}).finally(()=>{z(!1)}),E()},H);const L=g?.total_users;let W,D;e[3]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx(p,{size:24}),e[3]=W):W=e[3],e[4]!==L?(D={label:"总用户数",value:L,icon:W,color:"bg-blue-500"},e[4]=L,e[5]=D):D=e[5];const J=g?.new_users_today;let U,V;e[6]===Symbol.for("react.memo_cache_sentinel")?(U=c.jsx(y,{size:24}),e[6]=U):U=e[6],e[7]!==J?(V={label:"今日新增用户",value:J,icon:U,color:"bg-green-500"},e[7]=J,e[8]=V):V=e[8];const X=g?.total_websites;let Y,Z;e[9]===Symbol.for("react.memo_cache_sentinel")?(Y=c.jsx(_,{size:24}),e[9]=Y):Y=e[9],e[10]!==X?(Z={label:"网站总数",value:X,icon:Y,color:"bg-purple-500"},e[10]=X,e[11]=Z):Z=e[11];const $=g?.total_user_shares;let q,F,G;e[12]===Symbol.for("react.memo_cache_sentinel")?(q=c.jsx(j,{size:24}),e[12]=q):q=e[12],e[13]!==$?(F={label:"用户分享页",value:$,icon:q,color:"bg-yellow-500"},e[13]=$,e[14]=F):F=e[14],e[15]!==Z||e[16]!==F||e[17]!==D||e[18]!==V?(G=[D,V,Z,F],e[15]=Z,e[16]=F,e[17]=D,e[18]=V,e[19]=G):G=e[19];const I=G,K="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";let O;e[20]===Symbol.for("react.memo_cache_sentinel")?(O=function(){const e=s.getState().user.token;i({url:m.exportConfigToml,token:e,responseType:"blob"}).then(B)},e[20]=O):O=e[20];const P=O;let Q,R,ee,te,oe;e[21]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsx("h1",{className:"text-lg font-bold",children:"数据概览"}),e[21]=Q):Q=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(R=c.jsxs("div",{className:"flex mb-3 ml-1 justify-between items-center",children:[Q,c.jsx(d,{icon:c.jsx(x,{}),onClick:P,children:"导出配置文件"})]}),e[22]=R):R=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(ee=[12,12],e[23]=ee):ee=e[23],e[24]!==b||e[25]!==I?(te=c.jsx(n,{gutter:ee,children:I.map((e,t)=>c.jsx(r,{xs:{flex:"100%"},md:{flex:"50%"},lg:{flex:"50%"},xl:{flex:"25%"},children:c.jsx(S,{...e,loading:b})},t))}),e[24]=b,e[25]=I,e[26]=te):te=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(oe=c.jsx("h1",{className:"text-lg font-bold my-3 ml-1",children:"🔥 每日宝藏"}),e[27]=oe):oe=e[27];const le=C||b;let ce,ne,re;return e[28]!==k?(ce=k?.length>0?k?.map(N):A.map(w),e[28]=k,e[29]=ce):ce=e[29],e[30]!==le||e[31]!==ce?(ne=c.jsx("div",{className:"flex flex-col w-full gap-3",children:c.jsx(h,{loading:le,className:"p-3",children:ce})}),e[30]=le,e[31]=ce,e[32]=ne):ne=e[32],e[33]!==te||e[34]!==ne?(re=c.jsxs("main",{className:"p-3 overflow-scroll",children:[R,te,oe,ne]}),e[33]=te,e[34]=ne,e[35]=re):re=e[35],re}function w(e,t){return c.jsx(k,{item:e},t)}function N(e,t){return c.jsx(k,{item:e},t)}function B(e){u.saveAs(e.data,"config.toml")}function C(e){e.currentTarget.src="/icons/default_image.svg"}export{v as default};
