import{c as e,ap as t,j as s,r as n,B as r,ac as i,O as l,a0 as o,E as a,aB as c,N as d,aq as m,e as p,C as h,D as x,H as f,ao as j}from"./main-BgGKvOqb.js";import{M as y,R as u}from"./myTable-D7xSQ8d_.js";import{C as k}from"./contentLayout-D7i-z01F.js";import{R as w}from"./ReloadOutlined-DOU5AA0S.js";import"./transformData-RJGg-pC-.js";import"./MoneyCollectOutlined-w2aQuRJe.js";import"./AlipayOutlined-Wqvypn_v.js";import"./index-DK2TbAPI.js";function g(){const n=e.c(21),{key:c,refresh:d}=t();let m,p,h,x,f,j,u,g;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={title:"应用标题",key:"title",width:160,fixed:"left"},p={title:"应用描述",key:"description",width:460},h={title:"图标",key:"icon",width:100,render:S},x={title:"链接",key:"link",width:120,render:C},f={title:"标签",width:120,render:_},j={title:"提交人",key:"username",width:160,render:b},u={type:"time",title:"提交时间",key:"createdTime",width:200},n[0]=m,n[1]=p,n[2]=h,n[3]=x,n[4]=f,n[5]=j,n[6]=u):(m=n[0],p=n[1],h=n[2],x=n[3],f=n[4],j=n[5],u=n[6]),n[7]!==d?(g=[m,p,h,x,f,j,u,{title:"操作",fixed:"right",width:180,render:(e,t)=>s.jsx(A,{record:t,refresh:d})}],n[7]=d,n[8]=g):g=n[8];const N=g;let R,T,v,z,O,B,L;return n[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(w,{}),n[9]=R):R=n[9],n[10]!==d?(T=s.jsx(r,{type:"primary",icon:R,onClick:()=>{d()},children:"刷新列表"}),n[10]=d,n[11]=T):T=n[11],n[12]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(i,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(l,{className:"mr-1"}),"应用推荐将展示在 “ 每日宝藏 ” 中，服务端设置了 5 分钟缓存，如需查看最新的 “ 每日宝藏 ” 列表，请等待缓存失效或重启服务"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),z=s.jsx(o,{className:"my-3"}),n[12]=v,n[13]=z):(v=n[12],z=n[13]),n[14]===Symbol.for("react.memo_cache_sentinel")?(O={searchParams:{status:0}},n[14]=O):O=n[14],n[15]!==N||n[16]!==c?(B=s.jsx(y,{columns:N,getListUrl:a.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:c,params:O}),n[15]=N,n[16]=c,n[17]=B):B=n[17],n[18]!==B||n[19]!==T?(L=s.jsxs(k,{children:[T,v,z,B]}),n[18]=B,n[19]=T,n[20]=L):L=n[20],L}function b(e){return s.jsx(d,{color:e?"geekblue":"red",bordered:!1,icon:s.jsx(m,{}),children:e||"已注销"})}function _(e,t){return s.jsx(d,{color:t.tagColor,children:t.tagText||"-"})}function C(e){return s.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function S(e,t){return e?s.jsx(c,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}const A=n.memo(t=>{const i=e.c(42),{record:l,refresh:o}=t;let c;i[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],i[0]=c):c=i[0];const[d,m]=n.useState(c);let y;i[1]!==l||i[2]!==o?(y=function(){const e=p.getState().user.token;h(0,m),setTimeout(()=>{x({url:a.approveRecommendApp,token:e,data:{id:l.id}}).then(e=>{200===e?.code&&o()}).finally(()=>{f(0,m)})},500)},i[1]=l,i[2]=o,i[3]=y):y=i[3];const k=y;let w;i[4]!==l||i[5]!==o?(w=function(e,t){h(t,m);const s=p.getState().user.token;setTimeout(()=>{x({url:"reject"===e?a.rejectRecommendApp:a.deleteRecommendApp,token:s,data:{id:l.id}}).then(e=>{200===e?.code&&o()}).finally(()=>{f(t,m)})},500)},i[4]=l,i[5]=o,i[6]=w):w=i[6];const g=w;let b,_,C,S,A;i[7]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},i[7]=b):b=i[7],i[8]!==d[0]?(_=d[0]?s.jsx(u,{}):"通过",i[8]=d[0],i[9]=_):_=i[9],i[10]!==d[0]||i[11]!==_?(C=s.jsx(r,{type:"link",size:"small",disabled:d[0],style:b,children:_}),i[10]=d[0],i[11]=_,i[12]=C):C=i[12],i[13]!==k||i[14]!==C?(S=s.jsx(j,{title:"是否确认审核通过？",onConfirm:k,children:C}),i[13]=k,i[14]=C,i[15]=S):S=i[15],i[16]!==g?(A=()=>{g("reject",1)},i[16]=g,i[17]=A):A=i[17];const N=d[1]||d[2];let R,T,v,z,O;i[18]===Symbol.for("react.memo_cache_sentinel")?(R={width:"44px"},i[18]=R):R=i[18],i[19]!==d[1]?(T=d[1]?s.jsx(u,{}):"驳回",i[19]=d[1],i[20]=T):T=i[20],i[21]!==T||i[22]!==N?(v=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:N,style:R,children:T}),i[21]=T,i[22]=N,i[23]=v):v=i[23],i[24]!==v||i[25]!==A?(z=s.jsx(j,{title:"是否确认驳回申请",onConfirm:A,children:v}),i[24]=v,i[25]=A,i[26]=z):z=i[26],i[27]!==g?(O=()=>{g("delete",2)},i[27]=g,i[28]=O):O=i[28];const B=d[1]||d[2];let L,D,K,M,q;return i[29]===Symbol.for("react.memo_cache_sentinel")?(L={width:"44px"},i[29]=L):L=i[29],i[30]!==d[2]?(D=d[2]?s.jsx(u,{}):"删除",i[30]=d[2],i[31]=D):D=i[31],i[32]!==B||i[33]!==D?(K=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:B,style:L,children:D}),i[32]=B,i[33]=D,i[34]=K):K=i[34],i[35]!==O||i[36]!==K?(M=s.jsx(j,{title:"是否确认删除该申请？",onConfirm:O,children:K}),i[35]=O,i[36]=K,i[37]=M):M=i[37],i[38]!==z||i[39]!==M||i[40]!==S?(q=s.jsxs("div",{className:"flex flex-wrap",children:[S,z,M]}),i[38]=z,i[39]=M,i[40]=S,i[41]=q):q=i[41],q});export{g as default};
