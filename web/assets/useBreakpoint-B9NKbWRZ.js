import{ah as e,_ as s,r,ar as t,ca as n}from"./requestIdleCallbackPolyfill-CVD_37F6.js";import{r as i,a as c}from"./mediaQueryUtil-DPPPwwPM.js";const a=["xxl","xl","lg","md","sm","xs"],o=(e,s)=>{if(s)for(const r of a)if(e[r]&&void 0!==(null==s?void 0:s[r]))return s[r]},l=()=>{const[,r]=e(),t=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const s=e,r=[].concat(a).reverse();return r.forEach((e,t)=>{const n=e.toUpperCase(),i=`screen${n}Min`,c=`screen${n}`;if(!(s[i]<=s[c]))throw new Error(`${i}<=${c} fails : !(${s[i]}<=${s[c]})`);if(t<r.length-1){const e=`screen${n}Max`;if(!(s[c]<=s[e]))throw new Error(`${c}<=${e} fails : !(${s[c]}<=${s[e]})`);const i=`screen${r[t+1].toUpperCase()}Min`;if(!(s[e]<=s[i]))throw new Error(`${e}<=${i} fails : !(${s[e]}<=${s[i]})`)}}),e})(r));return s.useMemo(()=>{const e=new Map;let s=-1,r={};return{responsiveMap:t,matchHandlers:{},dispatch:s=>(r=s,e.forEach(e=>e(r)),e.size>=1),subscribe(t){return e.size||this.register(),s+=1,e.set(s,t),t(r),s},unsubscribe(s){e.delete(s),e.size||this.unregister()},register(){Object.entries(t).forEach(([e,s])=>{const t=({matches:s})=>{this.dispatch(Object.assign(Object.assign({},r),{[e]:s}))},n=window.matchMedia(s);c(n,t),this.matchHandlers[s]={mql:n,listener:t},t(n)})},unregister(){Object.values(t).forEach(e=>{const s=this.matchHandlers[e];i(null==s?void 0:s.mql,null==s?void 0:s.listener)}),e.clear()}}},[r])};function h(e=!0,s={}){const i=r.useRef(s),c=t(),a=l();return n(()=>{const s=a.subscribe(s=>{i.current=s,e&&c()});return()=>a.unsubscribe(s)},[]),i.current}export{o as m,a as r,h as u};
